import{ey as _e,A as U,Z as Sr,ez as ot,eA as yi,eB as Zr,a3 as me,dU as xi,aq as Si,h as L,J as ee,eC as bi,eD as Ai,t as $,eE as nn,bf as It,eF as on,a2 as Je,dm as sn,eG as _i,P as vt,a6 as wi,eH as Ci,eI as Ti,aA as ye,eJ as Pi,eK as Ot,eL as Di,ai as Hr,eM as Li,v as ve,K as Re,eN as Mi,eO as Ii,eP as Oi,eQ as Ri,eR as ki,eS as Ni,eT as Ei,eU as ln,eV as br,eW as Vi,eX as Gi,eY as Bi,eZ as zi,k as he,b7 as er,e_ as Yr,e$ as Fi,aV as un,_ as F,c as cn,S as Rt,c4 as vn,f0 as Xr,cR as Wi,bv as Ui,n as xe,o as ge,s as fn,dk as Zi,bC as tr,G as we,bU as Hi,g as st,C as Ar,a4 as ke,x as hn,w as _r,c3 as Yi,f1 as gn,y as bt,r as At,et as Xi,c1 as dn,ca as $e,f2 as $i,at as H,c5 as qi,c6 as ji,f3 as Ki,f4 as pn,ba as Q,aE as _t,$ as W,aj as wr,bB as q,c9 as $r,m as Cr,q as Qe,bq as qr,ay as mn,bY as jr,dq as Bt,f5 as Ji,f6 as Qi,c8 as gt,dh as eo,a_ as ue,bh as to,aS as ro,aT as ao,E as qe,au as no,f7 as io,aH as oo,aK as so,ed as kt,f8 as Kr,B as rr,f9 as lo,ac as uo,aw as yn,aF as co,aG as vo,a7 as Jr,br as fo,a$ as at,fa as Qr,d as ar,dl as ho,I as fe,b1 as xn,dx as go,l as po,d4 as mo,d2 as Sn,dL as yo,ah as Ce,aU as Ne,fb as xo,aB as wt,Q as Tr,X as Pr,dC as So,fc as bo,fd as Ao,bK as _o,d6 as Xe,aY as wo,d0 as Co,M as bn,ak as To,bs as ea,bt as ta,cU as An,cj as Po,ao as _n,cr as Do,cV as Lo,fe as Mo,ff as ra,fg as wn,fh as Io,fi as Oo,u as Ct,fj as Ro,bb as ko,b9 as No,cQ as aa,an as Eo,a5 as Vo,cC as Go,cE as Bo}from"./install-C0pYAmbF.js";var zt=Math.sin,Ft=Math.cos,Cn=Math.PI,De=Math.PI*2,zo=180/Cn,Tn=function(){function a(){}return a.prototype.reset=function(t){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,t||4)},a.prototype.moveTo=function(t,e){this._add("M",t,e)},a.prototype.lineTo=function(t,e){this._add("L",t,e)},a.prototype.bezierCurveTo=function(t,e,r,n,i,o){this._add("C",t,e,r,n,i,o)},a.prototype.quadraticCurveTo=function(t,e,r,n){this._add("Q",t,e,r,n)},a.prototype.arc=function(t,e,r,n,i,o){this.ellipse(t,e,r,r,0,n,i,o)},a.prototype.ellipse=function(t,e,r,n,i,o,s,l){var c=s-o,u=!l,f=Math.abs(c),g=_e(f-De)||(u?c>=De:-c>=De),v=c>0?c%De:c%De+De,h=!1;g?h=!0:_e(f)?h=!1:h=v>=Cn==!!u;var d=t+r*Ft(o),p=e+n*zt(o);this._start&&this._add("M",d,p);var y=Math.round(i*zo);if(g){var m=1/this._p,x=(u?1:-1)*(De-m);this._add("A",r,n,y,1,+u,t+r*Ft(o+x),e+n*zt(o+x)),m>.01&&this._add("A",r,n,y,0,+u,d,p)}else{var S=t+r*Ft(s),b=e+n*zt(s);this._add("A",r,n,y,+h,+u,S,b)}},a.prototype.rect=function(t,e,r,n){this._add("M",t,e),this._add("l",r,0),this._add("l",0,n),this._add("l",-r,0),this._add("Z")},a.prototype.closePath=function(){this._d.length>0&&this._add("Z")},a.prototype._add=function(t,e,r,n,i,o,s,l,c){for(var u=[],f=this._p,g=1;g<arguments.length;g++){var v=arguments[g];if(isNaN(v)){this._invalid=!0;return}u.push(Math.round(v*f)/f)}this._d.push(t+u.join(" ")),this._start=t==="Z"},a.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},a.prototype.getStr=function(){return this._str},a}(),Dr="none",Fo=Math.round;function Wo(a){var t=a.fill;return t!=null&&t!==Dr}function Uo(a){var t=a.stroke;return t!=null&&t!==Dr}var nr=["lineCap","miterLimit","lineJoin"],Zo=U(nr,function(a){return"stroke-"+a.toLowerCase()});function Ho(a,t,e,r){var n=t.opacity==null?1:t.opacity;if(e instanceof Sr){a("opacity",n);return}if(Wo(t)){var i=ot(t.fill);a("fill",i.color);var o=t.fillOpacity!=null?t.fillOpacity*i.opacity*n:i.opacity*n;o<1&&a("fill-opacity",o)}else a("fill",Dr);if(Uo(t)){var s=ot(t.stroke);a("stroke",s.color);var l=t.strokeNoScale?e.getLineScale():1,c=l?(t.lineWidth||0)/l:0,u=t.strokeOpacity!=null?t.strokeOpacity*s.opacity*n:s.opacity*n,f=t.strokeFirst;if(c!==1&&a("stroke-width",c),f&&a("paint-order",f?"stroke":"fill"),u<1&&a("stroke-opacity",u),t.lineDash){var g=yi(e),v=g[0],h=g[1];v&&(h=Fo(h||0),a("stroke-dasharray",v.join(",")),(h||r)&&a("stroke-dashoffset",h))}for(var d=0;d<nr.length;d++){var p=nr[d];if(t[p]!==Zr[p]){var y=t[p]||Zr[p];y&&a(Zo[d],y)}}}}var Pn="http://www.w3.org/2000/svg",Dn="http://www.w3.org/1999/xlink",Yo="http://www.w3.org/2000/xmlns/",Xo="http://www.w3.org/XML/1998/namespace",na="ecmeta_";function Ln(a){return document.createElementNS(Pn,a)}function Y(a,t,e,r,n){return{tag:a,attrs:e||{},children:r,text:n,key:t}}function $o(a,t){var e=[];if(t)for(var r in t){var n=t[r],i=r;n!==!1&&(n!==!0&&n!=null&&(i+='="'+n+'"'),e.push(i))}return"<"+a+" "+e.join(" ")+">"}function qo(a){return"</"+a+">"}function Lr(a,t){t=t||{};var e=t.newline?`
`:"";function r(n){var i=n.children,o=n.tag,s=n.attrs,l=n.text;return $o(o,s)+(o!=="style"?xi(l):l||"")+(i?""+e+U(i,function(c){return r(c)}).join(e)+e:"")+qo(o)}return r(a)}function jo(a,t,e){e=e||{};var r=e.newline?`
`:"",n=" {"+r,i=r+"}",o=U(me(a),function(l){return l+n+U(me(a[l]),function(c){return c+":"+a[l][c]+";"}).join(r)+i}).join(r),s=U(me(t),function(l){return"@keyframes "+l+n+U(me(t[l]),function(c){return c+n+U(me(t[l][c]),function(u){var f=t[l][c][u];return u==="d"&&(f='path("'+f+'")'),u+":"+f+";"}).join(r)+i}).join(r)+i}).join(r);return!o&&!s?"":["<![CDATA[",o,s,"]]>"].join(r)}function ir(a){return{zrId:a,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function ia(a,t,e,r){return Y("svg","root",{width:a,height:t,xmlns:Pn,"xmlns:xlink":Dn,version:"1.1",baseProfile:"full",viewBox:r?"0 0 "+a+" "+t:!1},e)}var Ko=0;function Mn(){return Ko++}var oa={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},Me="transform-origin";function Jo(a,t,e){var r=$({},a.shape);$(r,t),a.buildPath(e,r);var n=new Tn;return n.reset(on(a)),e.rebuildPath(n,1),n.generateStr(),n.getStr()}function Qo(a,t){var e=t.originX,r=t.originY;(e||r)&&(a[Me]=e+"px "+r+"px")}var es={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function In(a,t){var e=t.zrId+"-ani-"+t.cssAnimIdx++;return t.cssAnims[e]=a,e}function ts(a,t,e){var r=a.shape.paths,n={},i,o;if(L(r,function(l){var c=ir(e.zrId);c.animation=!0,Nt(l,{},c,!0);var u=c.cssAnims,f=c.cssNodes,g=me(u),v=g.length;if(v){o=g[v-1];var h=u[o];for(var d in h){var p=h[d];n[d]=n[d]||{d:""},n[d].d+=p.d||""}for(var y in f){var m=f[y].animation;m.indexOf(o)>=0&&(i=m)}}}),!!i){t.d=!1;var s=In(n,e);return i.replace(o,s)}}function sa(a){return ee(a)?oa[a]?"cubic-bezier("+oa[a]+")":bi(a)?a:"":""}function Nt(a,t,e,r){var n=a.animators,i=n.length,o=[];if(a instanceof Si){var s=ts(a,t,e);if(s)o.push(s);else if(!i)return}else if(!i)return;for(var l={},c=0;c<i;c++){var u=n[c],f=[u.getMaxTime()/1e3+"s"],g=sa(u.getClip().easing),v=u.getDelay();g?f.push(g):f.push("linear"),v&&f.push(v/1e3+"s"),u.getLoop()&&f.push("infinite");var h=f.join(" ");l[h]=l[h]||[h,[]],l[h][1].push(u)}function d(m){var x=m[1],S=x.length,b={},w={},A={},C="animation-timing-function";function D(te,Se,Be){for(var Pe=te.getTracks(),ft=te.getMaxTime(),ze=0;ze<Pe.length;ze++){var Fe=Pe[ze];if(Fe.needsAnimate()){var be=Fe.keyframes,re=Fe.propName;if(Be&&(re=Be(re)),re)for(var de=0;de<be.length;de++){var We=be[de],ae=Math.round(We.time/ft*100)+"%",ht=sa(We.easing),Ae=We.rawValue;(ee(Ae)||Je(Ae))&&(Se[ae]=Se[ae]||{},Se[ae][re]=We.rawValue,ht&&(Se[ae][C]=ht))}}}}for(var _=0;_<S;_++){var P=x[_],I=P.targetName;I?I==="shape"&&D(P,w):!r&&D(P,b)}for(var T in b){var O={};Ai(O,a),$(O,b[T]);var M=nn(O),N=b[T][C];A[T]=M?{transform:M}:{},Qo(A[T],O),N&&(A[T][C]=N)}var k,R=!0;for(var T in w){A[T]=A[T]||{};var E=!k,N=w[T][C];E&&(k=new sn);var V=k.len();k.reset(),A[T].d=Jo(a,w[T],k);var G=k.len();if(!E&&V!==G){R=!1;break}N&&(A[T][C]=N)}if(!R)for(var T in A)delete A[T].d;if(!r)for(var _=0;_<S;_++){var P=x[_],I=P.targetName;I==="style"&&D(P,A,function(Pe){return es[Pe]})}for(var B=me(A),j=!0,X,_=1;_<B.length;_++){var J=B[_-1],Te=B[_];if(A[J][Me]!==A[Te][Me]){j=!1;break}X=A[J][Me]}if(j&&X){for(var T in A)A[T][Me]&&delete A[T][Me];t[Me]=X}if(It(B,function(te){return me(A[te]).length>0}).length){var Ge=In(A,e);return Ge+" "+m[0]+" both"}}for(var p in l){var s=d(l[p]);s&&o.push(s)}if(o.length){var y=e.zrId+"-cls-"+Mn();e.cssNodes["."+y]={animation:o.join(",")},t.class=y}}function rs(a,t,e){if(!a.ignore)if(a.isSilent()){var r={"pointer-events":"none"};la(r,t,e)}else{var n=a.states.emphasis&&a.states.emphasis.style?a.states.emphasis.style:{},i=n.fill;if(!i){var o=a.style&&a.style.fill,s=a.states.select&&a.states.select.style&&a.states.select.style.fill,l=a.currentStates.indexOf("select")>=0&&s||o;l&&(i=_i(l))}var c=n.lineWidth;if(c){var u=!n.strokeNoScale&&a.transform?a.transform[0]:1;c=c/u}var r={cursor:"pointer"};i&&(r.fill=i),n.stroke&&(r.stroke=n.stroke),c&&(r["stroke-width"]=c),la(r,t,e)}}function la(a,t,e,r){var n=JSON.stringify(a),i=e.cssStyleCache[n];i||(i=e.zrId+"-cls-"+Mn(),e.cssStyleCache[n]=i,e.cssNodes["."+i+":hover"]=a),t.class=t.class?t.class+" "+i:i}var lt=Math.round;function On(a){return a&&ee(a.src)}function Rn(a){return a&&Re(a.toDataURL)}function Mr(a,t,e,r){Ho(function(n,i){var o=n==="fill"||n==="stroke";o&&ln(i)?Nn(t,a,n,r):o&&br(i)?En(e,a,n,r):a[n]=i,o&&r.ssr&&i==="none"&&(a["pointer-events"]="visible")},t,e,!1),us(e,a,r)}function Ir(a,t){var e=Vi(t);e&&(e.each(function(r,n){r!=null&&(a[(na+n).toLowerCase()]=r+"")}),t.isSilent()&&(a[na+"silent"]="true"))}function ua(a){return _e(a[0]-1)&&_e(a[1])&&_e(a[2])&&_e(a[3]-1)}function as(a){return _e(a[4])&&_e(a[5])}function Or(a,t,e){if(t&&!(as(t)&&ua(t))){var r=1e4;a.transform=ua(t)?"translate("+lt(t[4]*r)/r+" "+lt(t[5]*r)/r+")":Gi(t)}}function ca(a,t,e){for(var r=a.points,n=[],i=0;i<r.length;i++)n.push(lt(r[i][0]*e)/e),n.push(lt(r[i][1]*e)/e);t.points=n.join(" ")}function va(a){return!a.smooth}function ns(a){var t=U(a,function(e){return typeof e=="string"?[e,e]:e});return function(e,r,n){for(var i=0;i<t.length;i++){var o=t[i],s=e[o[0]];s!=null&&(r[o[1]]=lt(s*n)/n)}}}var is={circle:[ns(["cx","cy","r"])],polyline:[ca,va],polygon:[ca,va]};function os(a){for(var t=a.animators,e=0;e<t.length;e++)if(t[e].targetName==="shape")return!0;return!1}function kn(a,t){var e=a.style,r=a.shape,n=is[a.type],i={},o=t.animation,s="path",l=a.style.strokePercent,c=t.compress&&on(a)||4;if(n&&!t.willUpdate&&!(n[1]&&!n[1](r))&&!(o&&os(a))&&!(l<1)){s=a.type;var u=Math.pow(10,c);n[0](r,i,u)}else{var f=!a.path||a.shapeChanged();a.path||a.createPathProxy();var g=a.path;f&&(g.beginPath(),a.buildPath(g,a.shape),a.pathUpdated());var v=g.getVersion(),h=a,d=h.__svgPathBuilder;(h.__svgPathVersion!==v||!d||l!==h.__svgPathStrokePercent)&&(d||(d=h.__svgPathBuilder=new Tn),d.reset(c),g.rebuildPath(d,l),d.generateStr(),h.__svgPathVersion=v,h.__svgPathStrokePercent=l),i.d=d.getStr()}return Or(i,a.transform),Mr(i,e,a,t),Ir(i,a),t.animation&&Nt(a,i,t),t.emphasis&&rs(a,i,t),Y(s,a.id+"",i)}function ss(a,t){var e=a.style,r=e.image;if(r&&!ee(r)&&(On(r)?r=r.src:Rn(r)&&(r=r.toDataURL())),!!r){var n=e.x||0,i=e.y||0,o=e.width,s=e.height,l={href:r,width:o,height:s};return n&&(l.x=n),i&&(l.y=i),Or(l,a.transform),Mr(l,e,a,t),Ir(l,a),t.animation&&Nt(a,l,t),Y("image",a.id+"",l)}}function ls(a,t){var e=a.style,r=e.text;if(r!=null&&(r+=""),!(!r||isNaN(e.x)||isNaN(e.y))){var n=e.font||Mi,i=e.x||0,o=Ii(e.y||0,Oi(n),e.textBaseline),s=Ri[e.textAlign]||e.textAlign,l={"dominant-baseline":"central","text-anchor":s};if(ki(e)){var c="",u=e.fontStyle,f=Ni(e.fontSize);if(!parseFloat(f))return;var g=e.fontFamily||Ei,v=e.fontWeight;c+="font-size:"+f+";font-family:"+g+";",u&&u!=="normal"&&(c+="font-style:"+u+";"),v&&v!=="normal"&&(c+="font-weight:"+v+";"),l.style=c}else l.style="font: "+n;return r.match(/\s/)&&(l["xml:space"]="preserve"),i&&(l.x=i),o&&(l.y=o),Or(l,a.transform),Mr(l,e,a,t),Ir(l,a),t.animation&&Nt(a,l,t),Y("text",a.id+"",l,void 0,r)}}function fa(a,t){if(a instanceof vt)return kn(a,t);if(a instanceof Sr)return ss(a,t);if(a instanceof wi)return ls(a,t)}function us(a,t,e){var r=a.style;if(Bi(r)){var n=zi(a),i=e.shadowCache,o=i[n];if(!o){var s=a.getGlobalScale(),l=s[0],c=s[1];if(!l||!c)return;var u=r.shadowOffsetX||0,f=r.shadowOffsetY||0,g=r.shadowBlur,v=ot(r.shadowColor),h=v.opacity,d=v.color,p=g/2/l,y=g/2/c,m=p+" "+y;o=e.zrId+"-s"+e.shadowIdx++,e.defs[o]=Y("filter",o,{id:o,x:"-100%",y:"-100%",width:"300%",height:"300%"},[Y("feDropShadow","",{dx:u/l,dy:f/c,stdDeviation:m,"flood-color":d,"flood-opacity":h})]),i[n]=o}t.filter=Ot(o)}}function Nn(a,t,e,r){var n=a[e],i,o={gradientUnits:n.global?"userSpaceOnUse":"objectBoundingBox"};if(Ci(n))i="linearGradient",o.x1=n.x,o.y1=n.y,o.x2=n.x2,o.y2=n.y2;else if(Ti(n))i="radialGradient",o.cx=ye(n.x,.5),o.cy=ye(n.y,.5),o.r=ye(n.r,.5);else return;for(var s=n.colorStops,l=[],c=0,u=s.length;c<u;++c){var f=Pi(s[c].offset)*100+"%",g=s[c].color,v=ot(g),h=v.color,d=v.opacity,p={offset:f};p["stop-color"]=h,d<1&&(p["stop-opacity"]=d),l.push(Y("stop",c+"",p))}var y=Y(i,"",o,l),m=Lr(y),x=r.gradientCache,S=x[m];S||(S=r.zrId+"-g"+r.gradientIdx++,x[m]=S,o.id=S,r.defs[S]=Y(i,S,o,l)),t[e]=Ot(S)}function En(a,t,e,r){var n=a.style[e],i=a.getBoundingRect(),o={},s=n.repeat,l=s==="no-repeat",c=s==="repeat-x",u=s==="repeat-y",f;if(Di(n)){var g=n.imageWidth,v=n.imageHeight,h=void 0,d=n.image;if(ee(d)?h=d:On(d)?h=d.src:Rn(d)&&(h=d.toDataURL()),typeof Image=="undefined"){var p="Image width/height must been given explictly in svg-ssr renderer.";Hr(g,p),Hr(v,p)}else if(g==null||v==null){var y=function(_,P){if(_){var I=_.elm,T=g||P.width,O=v||P.height;_.tag==="pattern"&&(c?(O=1,T/=i.width):u&&(T=1,O/=i.height)),_.attrs.width=T,_.attrs.height=O,I&&(I.setAttribute("width",T),I.setAttribute("height",O))}},m=Li(h,null,a,function(_){l||y(w,_),y(f,_)});m&&m.width&&m.height&&(g=g||m.width,v=v||m.height)}f=Y("image","img",{href:h,width:g,height:v}),o.width=g,o.height=v}else n.svgElement&&(f=ve(n.svgElement),o.width=n.svgWidth,o.height=n.svgHeight);if(f){var x,S;l?x=S=1:c?(S=1,x=o.width/i.width):u?(x=1,S=o.height/i.height):o.patternUnits="userSpaceOnUse",x!=null&&!isNaN(x)&&(o.width=x),S!=null&&!isNaN(S)&&(o.height=S);var b=nn(n);b&&(o.patternTransform=b);var w=Y("pattern","",o,[f]),A=Lr(w),C=r.patternCache,D=C[A];D||(D=r.zrId+"-p"+r.patternIdx++,C[A]=D,o.id=D,w=r.defs[D]=Y("pattern",D,o,[f])),t[e]=Ot(D)}}function cs(a,t,e){var r=e.clipPathCache,n=e.defs,i=r[a.id];if(!i){i=e.zrId+"-c"+e.clipPathIdx++;var o={id:i};r[a.id]=i,n[i]=Y("clipPath",i,o,[kn(a,e)])}t["clip-path"]=Ot(i)}function ha(a){return document.createTextNode(a)}function Ie(a,t,e){a.insertBefore(t,e)}function ga(a,t){a.removeChild(t)}function da(a,t){a.appendChild(t)}function Vn(a){return a.parentNode}function Gn(a){return a.nextSibling}function Wt(a,t){a.textContent=t}var pa=58,vs=120,fs=Y("","");function or(a){return a===void 0}function se(a){return a!==void 0}function hs(a,t,e){for(var r={},n=t;n<=e;++n){var i=a[n].key;i!==void 0&&(r[i]=n)}return r}function nt(a,t){var e=a.key===t.key,r=a.tag===t.tag;return r&&e}function ut(a){var t,e=a.children,r=a.tag;if(se(r)){var n=a.elm=Ln(r);if(Rr(fs,a),he(e))for(t=0;t<e.length;++t){var i=e[t];i!=null&&da(n,ut(i))}else se(a.text)&&!er(a.text)&&da(n,ha(a.text))}else a.elm=ha(a.text);return a.elm}function Bn(a,t,e,r,n){for(;r<=n;++r){var i=e[r];i!=null&&Ie(a,ut(i),t)}}function Tt(a,t,e,r){for(;e<=r;++e){var n=t[e];if(n!=null)if(se(n.tag)){var i=Vn(n.elm);ga(i,n.elm)}else ga(a,n.elm)}}function Rr(a,t){var e,r=t.elm,n=a&&a.attrs||{},i=t.attrs||{};if(n!==i){for(e in i){var o=i[e],s=n[e];s!==o&&(o===!0?r.setAttribute(e,""):o===!1?r.removeAttribute(e):e==="style"?r.style.cssText=o:e.charCodeAt(0)!==vs?r.setAttribute(e,o):e==="xmlns:xlink"||e==="xmlns"?r.setAttributeNS(Yo,e,o):e.charCodeAt(3)===pa?r.setAttributeNS(Xo,e,o):e.charCodeAt(5)===pa?r.setAttributeNS(Dn,e,o):r.setAttribute(e,o))}for(e in n)e in i||r.removeAttribute(e)}}function gs(a,t,e){for(var r=0,n=0,i=t.length-1,o=t[0],s=t[i],l=e.length-1,c=e[0],u=e[l],f,g,v,h;r<=i&&n<=l;)o==null?o=t[++r]:s==null?s=t[--i]:c==null?c=e[++n]:u==null?u=e[--l]:nt(o,c)?(He(o,c),o=t[++r],c=e[++n]):nt(s,u)?(He(s,u),s=t[--i],u=e[--l]):nt(o,u)?(He(o,u),Ie(a,o.elm,Gn(s.elm)),o=t[++r],u=e[--l]):nt(s,c)?(He(s,c),Ie(a,s.elm,o.elm),s=t[--i],c=e[++n]):(or(f)&&(f=hs(t,r,i)),g=f[c.key],or(g)?Ie(a,ut(c),o.elm):(v=t[g],v.tag!==c.tag?Ie(a,ut(c),o.elm):(He(v,c),t[g]=void 0,Ie(a,v.elm,o.elm))),c=e[++n]);(r<=i||n<=l)&&(r>i?(h=e[l+1]==null?null:e[l+1].elm,Bn(a,h,e,n,l)):Tt(a,t,r,i))}function He(a,t){var e=t.elm=a.elm,r=a.children,n=t.children;a!==t&&(Rr(a,t),or(t.text)?se(r)&&se(n)?r!==n&&gs(e,r,n):se(n)?(se(a.text)&&Wt(e,""),Bn(e,null,n,0,n.length-1)):se(r)?Tt(e,r,0,r.length-1):se(a.text)&&Wt(e,""):a.text!==t.text&&(se(r)&&Tt(e,r,0,r.length-1),Wt(e,t.text)))}function ds(a,t){if(nt(a,t))He(a,t);else{var e=a.elm,r=Vn(e);ut(t),r!==null&&(Ie(r,t.elm,Gn(e)),Tt(r,[a],0,0))}return t}var ps=0,ms=function(){function a(t,e,r){if(this.type="svg",this.refreshHover=ma(),this.configLayer=ma(),this.storage=e,this._opts=r=$({},r),this.root=t,this._id="zr"+ps++,this._oldVNode=ia(r.width,r.height),t&&!r.ssr){var n=this._viewport=document.createElement("div");n.style.cssText="position:relative;overflow:hidden";var i=this._svgDom=this._oldVNode.elm=Ln("svg");Rr(null,this._oldVNode),n.appendChild(i),t.appendChild(n)}this.resize(r.width,r.height)}return a.prototype.getType=function(){return this.type},a.prototype.getViewportRoot=function(){return this._viewport},a.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},a.prototype.getSvgDom=function(){return this._svgDom},a.prototype.refresh=function(){if(this.root){var t=this.renderToVNode({willUpdate:!0});t.attrs.style="position:absolute;left:0;top:0;user-select:none",ds(this._oldVNode,t),this._oldVNode=t}},a.prototype.renderOneToVNode=function(t){return fa(t,ir(this._id))},a.prototype.renderToVNode=function(t){t=t||{};var e=this.storage.getDisplayList(!0),r=this._width,n=this._height,i=ir(this._id);i.animation=t.animation,i.willUpdate=t.willUpdate,i.compress=t.compress,i.emphasis=t.emphasis,i.ssr=this._opts.ssr;var o=[],s=this._bgVNode=ys(r,n,this._backgroundColor,i);s&&o.push(s);var l=t.compress?null:this._mainVNode=Y("g","main",{},[]);this._paintList(e,i,l?l.children:o),l&&o.push(l);var c=U(me(i.defs),function(g){return i.defs[g]});if(c.length&&o.push(Y("defs","defs",{},c)),t.animation){var u=jo(i.cssNodes,i.cssAnims,{newline:!0});if(u){var f=Y("style","stl",{},[],u);o.push(f)}}return ia(r,n,o,t.useViewBox)},a.prototype.renderToString=function(t){return t=t||{},Lr(this.renderToVNode({animation:ye(t.cssAnimation,!0),emphasis:ye(t.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:ye(t.useViewBox,!0)}),{newline:!0})},a.prototype.setBackgroundColor=function(t){this._backgroundColor=t},a.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},a.prototype._paintList=function(t,e,r){for(var n=t.length,i=[],o=0,s,l,c=0,u=0;u<n;u++){var f=t[u];if(!f.invisible){var g=f.__clipPaths,v=g&&g.length||0,h=l&&l.length||0,d=void 0;for(d=Math.max(v-1,h-1);d>=0&&!(g&&l&&g[d]===l[d]);d--);for(var p=h-1;p>d;p--)o--,s=i[o-1];for(var y=d+1;y<v;y++){var m={};cs(g[y],m,e);var x=Y("g","clip-g-"+c++,m,[]);(s?s.children:r).push(x),i[o++]=x,s=x}l=g;var S=fa(f,e);S&&(s?s.children:r).push(S)}}},a.prototype.resize=function(t,e){var r=this._opts,n=this.root,i=this._viewport;if(t!=null&&(r.width=t),e!=null&&(r.height=e),n&&i&&(i.style.display="none",t=Yr(n,0,r),e=Yr(n,1,r),i.style.display=""),this._width!==t||this._height!==e){if(this._width=t,this._height=e,i){var o=i.style;o.width=t+"px",o.height=e+"px"}if(br(this._backgroundColor))this.refresh();else{var s=this._svgDom;s&&(s.setAttribute("width",t),s.setAttribute("height",e));var l=this._bgVNode&&this._bgVNode.elm;l&&(l.setAttribute("width",t),l.setAttribute("height",e))}}},a.prototype.getWidth=function(){return this._width},a.prototype.getHeight=function(){return this._height},a.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},a.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},a.prototype.toDataURL=function(t){var e=this.renderToString(),r="data:image/svg+xml;";return t?(e=Fi(e),e&&r+"base64,"+e):r+"charset=UTF-8,"+encodeURIComponent(e)},a}();function ma(a){return function(){}}function ys(a,t,e,r){var n;if(e&&e!=="none")if(n=Y("rect","bg",{width:a,height:t,x:"0",y:"0"}),ln(e))Nn({fill:e},n.attrs,"fill",r);else if(br(e))En({style:{fill:e},dirty:un,getBoundingRect:function(){return{width:a,height:t}}},n.attrs,"fill",r);else{var i=ot(e),o=i.color,s=i.opacity;n.attrs.fill=o,s<1&&(n.attrs["fill-opacity"]=s)}return n}function Iu(a){a.registerPainter("svg",ms)}var sr=function(a){F(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(e,r){return cn(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(e,r,n){var i=this.coordinateSystem;if(i&&i.clampData){var o=i.clampData(e),s=i.dataToPoint(o);if(n)L(i.getAxes(),function(g,v){if(g.type==="category"&&r!=null){var h=g.getTicksCoords(),d=g.getTickModel().get("alignWithLabel"),p=o[v],y=r[v]==="x1"||r[v]==="y1";if(y&&!d&&(p+=1),h.length<2)return;if(h.length===2){s[v]=g.toGlobalCoord(g.getExtent()[y?1:0]);return}for(var m=void 0,x=void 0,S=1,b=0;b<h.length;b++){var w=h[b].coord,A=b===h.length-1?h[b-1].tickValue+S:h[b].tickValue;if(A===p){x=w;break}else if(A<p)m=w;else if(m!=null&&A>p){x=(w+m)/2;break}b===1&&(S=A-h[0].tickValue)}x==null&&(m?m&&(x=h[h.length-1].coord):x=h[0].coord),s[v]=g.toGlobalCoord(x)}});else{var l=this.getData(),c=l.getLayout("offset"),u=l.getLayout("size"),f=i.getBaseAxis().isHorizontal()?0:1;s[f]+=c+u/2}return s}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},t}(Rt);Rt.registerClass(sr);var xs=function(a){F(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.getInitialData=function(){return cn(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},t.prototype.getProgressiveThreshold=function(){var e=this.get("progressiveThreshold"),r=this.get("largeThreshold");return r>e&&(e=r),e},t.prototype.brushSelector=function(e,r,n){return n.rect(r.getItemLayout(e))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=vn(sr.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),t}(sr),Ss=function(){function a(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return a}(),Pt=function(a){F(t,a);function t(e){var r=a.call(this,e)||this;return r.type="sausage",r}return t.prototype.getDefaultShape=function(){return new Ss},t.prototype.buildPath=function(e,r){var n=r.cx,i=r.cy,o=Math.max(r.r0||0,0),s=Math.max(r.r,0),l=(s-o)*.5,c=o+l,u=r.startAngle,f=r.endAngle,g=r.clockwise,v=Math.PI*2,h=g?f-u<v:u-f<v;h||(u=f-(g?v:-v));var d=Math.cos(u),p=Math.sin(u),y=Math.cos(f),m=Math.sin(f);h?(e.moveTo(d*o+n,p*o+i),e.arc(d*c+n,p*c+i,l,-Math.PI+u,u,!g)):e.moveTo(d*s+n,p*s+i),e.arc(n,i,s,u,f,!g),e.arc(y*c+n,m*c+i,l,f-Math.PI*2,f-Math.PI,!g),o!==0&&e.arc(n,i,o,f,u,g)},t}(vt);function bs(a,t){t=t||{};var e=t.isRoundCap;return function(r,n,i){var o=n.position;if(!o||o instanceof Array)return Xr(r,n,i);var s=a(o),l=n.distance!=null?n.distance:5,c=this.shape,u=c.cx,f=c.cy,g=c.r,v=c.r0,h=(g+v)/2,d=c.startAngle,p=c.endAngle,y=(d+p)/2,m=e?Math.abs(g-v)/2:0,x=Math.cos,S=Math.sin,b=u+g*x(d),w=f+g*S(d),A="left",C="top";switch(s){case"startArc":b=u+(v-l)*x(y),w=f+(v-l)*S(y),A="center",C="top";break;case"insideStartArc":b=u+(v+l)*x(y),w=f+(v+l)*S(y),A="center",C="bottom";break;case"startAngle":b=u+h*x(d)+dt(d,l+m,!1),w=f+h*S(d)+pt(d,l+m,!1),A="right",C="middle";break;case"insideStartAngle":b=u+h*x(d)+dt(d,-l+m,!1),w=f+h*S(d)+pt(d,-l+m,!1),A="left",C="middle";break;case"middle":b=u+h*x(y),w=f+h*S(y),A="center",C="middle";break;case"endArc":b=u+(g+l)*x(y),w=f+(g+l)*S(y),A="center",C="bottom";break;case"insideEndArc":b=u+(g-l)*x(y),w=f+(g-l)*S(y),A="center",C="top";break;case"endAngle":b=u+h*x(p)+dt(p,l+m,!0),w=f+h*S(p)+pt(p,l+m,!0),A="left",C="middle";break;case"insideEndAngle":b=u+h*x(p)+dt(p,-l+m,!0),w=f+h*S(p)+pt(p,-l+m,!0),A="right",C="middle";break;default:return Xr(r,n,i)}return r=r||{},r.x=b,r.y=w,r.align=A,r.verticalAlign=C,r}}function As(a,t,e,r){if(Je(r)){a.setTextConfig({rotation:r});return}else if(he(t)){a.setTextConfig({rotation:0});return}var n=a.shape,i=n.clockwise?n.startAngle:n.endAngle,o=n.clockwise?n.endAngle:n.startAngle,s=(i+o)/2,l,c=e(t);switch(c){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":l=s;break;case"startAngle":case"insideStartAngle":l=i;break;case"endAngle":case"insideEndAngle":l=o;break;default:a.setTextConfig({rotation:0});return}var u=Math.PI*1.5-l;c==="middle"&&u>Math.PI/2&&u<Math.PI*1.5&&(u-=Math.PI),a.setTextConfig({rotation:u})}function dt(a,t,e){return t*Math.sin(a)*(e?-1:1)}function pt(a,t,e){return t*Math.cos(a)*(e?1:-1)}function it(a,t,e){var r=a.get("borderRadius");if(r==null)return e?{cornerRadius:0}:null;he(r)||(r=[r,r,r,r]);var n=Math.abs(t.r||0-t.r0||0);return{cornerRadius:U(r,function(i){return Wi(i,n)})}}var Ut=Math.max,Zt=Math.min;function _s(a,t){var e=a.getArea&&a.getArea();if(dn(a,"cartesian2d")){var r=a.getBaseAxis();if(r.type!=="category"||!r.onBand){var n=t.getLayout("bandWidth");r.isHorizontal()?(e.x-=n,e.width+=n*2):(e.y-=n,e.height+=n*2)}}return e}var ws=function(a){F(t,a);function t(){var e=a.call(this)||this;return e.type=t.type,e._isFirstFrame=!0,e}return t.prototype.render=function(e,r,n,i){this._model=e,this._removeOnRenderedListener(n),this._updateDrawMode(e);var o=e.get("coordinateSystem");(o==="cartesian2d"||o==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(e,r,n):this._renderNormal(e,r,n,i))},t.prototype.incrementalPrepareRender=function(e){this._clear(),this._updateDrawMode(e),this._updateLargeClip(e)},t.prototype.incrementalRender=function(e,r){this._progressiveEls=[],this._incrementalRenderLarge(e,r)},t.prototype.eachRendered=function(e){Ui(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var r=e.pipelineContext.large;(this._isLargeDraw==null||r!==this._isLargeDraw)&&(this._isLargeDraw=r,this._clear())},t.prototype._renderNormal=function(e,r,n,i){var o=this.group,s=e.getData(),l=this._data,c=e.coordinateSystem,u=c.getBaseAxis(),f;c.type==="cartesian2d"?f=u.isHorizontal():c.type==="polar"&&(f=u.dim==="angle");var g=e.isAnimationEnabled()?e:null,v=Cs(e,c);v&&this._enableRealtimeSort(v,s,n);var h=e.get("clip",!0)||v,d=_s(c,s);o.removeClipPath();var p=e.get("roundCap",!0),y=e.get("showBackground",!0),m=e.getModel("backgroundStyle"),x=m.get("borderRadius")||0,S=[],b=this._backgroundEls,w=i&&i.isInitSort,A=i&&i.type==="changeAxisOrder";function C(P){var I=mt[c.type](s,P),T=Os(c,f,I);return T.useStyle(m.getItemStyle()),c.type==="cartesian2d"?T.setShape("r",x):T.setShape("cornerRadius",x),S[P]=T,T}s.diff(l).add(function(P){var I=s.getItemModel(P),T=mt[c.type](s,P,I);if(y&&C(P),!(!s.hasValue(P)||!Aa[c.type](T))){var O=!1;h&&(O=ya[c.type](d,T));var M=xa[c.type](e,s,P,T,f,g,u.model,!1,p);v&&(M.forceLabelAnimation=!0),_a(M,s,P,I,T,e,f,c.type==="polar"),w?M.attr({shape:T}):v?Sa(v,g,M,T,P,f,!1,!1):xe(M,{shape:T},e,P),s.setItemGraphicEl(P,M),o.add(M),M.ignore=O}}).update(function(P,I){var T=s.getItemModel(P),O=mt[c.type](s,P,T);if(y){var M=void 0;b.length===0?M=C(I):(M=b[I],M.useStyle(m.getItemStyle()),c.type==="cartesian2d"?M.setShape("r",x):M.setShape("cornerRadius",x),S[P]=M);var N=mt[c.type](s,P),k=Fn(f,N,c);ge(M,{shape:k},g,P)}var R=l.getItemGraphicEl(I);if(!s.hasValue(P)||!Aa[c.type](O)){o.remove(R);return}var E=!1;if(h&&(E=ya[c.type](d,O),E&&o.remove(R)),R?fn(R):R=xa[c.type](e,s,P,O,f,g,u.model,!!R,p),v&&(R.forceLabelAnimation=!0),A){var V=R.getTextContent();if(V){var G=Zi(V);G.prevValue!=null&&(G.prevValue=G.value)}}else _a(R,s,P,T,O,e,f,c.type==="polar");w?R.attr({shape:O}):v?Sa(v,g,R,O,P,f,!0,A):ge(R,{shape:O},e,P,null),s.setItemGraphicEl(P,R),R.ignore=E,o.add(R)}).remove(function(P){var I=l.getItemGraphicEl(P);I&&tr(I,e,P)}).execute();var D=this._backgroundGroup||(this._backgroundGroup=new we);D.removeAll();for(var _=0;_<S.length;++_)D.add(S[_]);o.add(D),this._backgroundEls=S,this._data=s},t.prototype._renderLarge=function(e,r,n){this._clear(),Ca(e,this.group),this._updateLargeClip(e)},t.prototype._incrementalRenderLarge=function(e,r){this._removeBackground(),Ca(r,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(e){var r=e.get("clip",!0)&&Hi(e.coordinateSystem,!1,e),n=this.group;r?n.setClipPath(r):n.removeClipPath()},t.prototype._enableRealtimeSort=function(e,r,n){var i=this;if(r.count()){var o=e.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(r,e,n),this._isFirstFrame=!1;else{var s=function(l){var c=r.getItemGraphicEl(l),u=c&&c.shape;return u&&Math.abs(o.isHorizontal()?u.height:u.width)||0};this._onRendered=function(){i._updateSortWithinSameData(r,s,o,n)},n.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(e,r,n){var i=[];return e.each(e.mapDimension(r.dim),function(o,s){var l=n(s);l=l==null?NaN:l,i.push({dataIndex:s,mappedValue:l,ordinalNumber:o})}),i.sort(function(o,s){return s.mappedValue-o.mappedValue}),{ordinalNumbers:U(i,function(o){return o.ordinalNumber})}},t.prototype._isOrderChangedWithinSameData=function(e,r,n){for(var i=n.scale,o=e.mapDimension(n.dim),s=Number.MAX_VALUE,l=0,c=i.getOrdinalMeta().categories.length;l<c;++l){var u=e.rawIndexOf(o,i.getRawOrdinalNumber(l)),f=u<0?Number.MIN_VALUE:r(e.indexOfRawIndex(u));if(f>s)return!0;s=f}return!1},t.prototype._isOrderDifferentInView=function(e,r){for(var n=r.scale,i=n.getExtent(),o=Math.max(0,i[0]),s=Math.min(i[1],n.getOrdinalMeta().categories.length-1);o<=s;++o)if(e.ordinalNumbers[o]!==n.getRawOrdinalNumber(o))return!0},t.prototype._updateSortWithinSameData=function(e,r,n,i){if(this._isOrderChangedWithinSameData(e,r,n)){var o=this._dataSort(e,n,r);this._isOrderDifferentInView(o,n)&&(this._removeOnRenderedListener(i),i.dispatchAction({type:"changeAxisOrder",componentType:n.dim+"Axis",axisId:n.index,sortInfo:o}))}},t.prototype._dispatchInitSort=function(e,r,n){var i=r.baseAxis,o=this._dataSort(e,i,function(s){return e.get(e.mapDimension(r.otherAxis.dim),s)});n.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",isInitSort:!0,axisId:i.index,sortInfo:o})},t.prototype.remove=function(e,r){this._clear(this._model),this._removeOnRenderedListener(r)},t.prototype.dispose=function(e,r){this._removeOnRenderedListener(r)},t.prototype._removeOnRenderedListener=function(e){this._onRendered&&(e.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(e){var r=this.group,n=this._data;e&&e.isAnimationEnabled()&&n&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],n.eachItemGraphicEl(function(i){tr(i,e,st(i).dataIndex)})):r.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t}(Ar),ya={cartesian2d:function(a,t){var e=t.width<0?-1:1,r=t.height<0?-1:1;e<0&&(t.x+=t.width,t.width=-t.width),r<0&&(t.y+=t.height,t.height=-t.height);var n=a.x+a.width,i=a.y+a.height,o=Ut(t.x,a.x),s=Zt(t.x+t.width,n),l=Ut(t.y,a.y),c=Zt(t.y+t.height,i),u=s<o,f=c<l;return t.x=u&&o>n?s:o,t.y=f&&l>i?c:l,t.width=u?0:s-o,t.height=f?0:c-l,e<0&&(t.x+=t.width,t.width=-t.width),r<0&&(t.y+=t.height,t.height=-t.height),u||f},polar:function(a,t){var e=t.r0<=t.r?1:-1;if(e<0){var r=t.r;t.r=t.r0,t.r0=r}var n=Zt(t.r,a.r),i=Ut(t.r0,a.r0);t.r=n,t.r0=i;var o=n-i<0;if(e<0){var r=t.r;t.r=t.r0,t.r0=r}return o}},xa={cartesian2d:function(a,t,e,r,n,i,o,s,l){var c=new ke({shape:$({},r),z2:1});if(c.__dataIndex=e,c.name="item",i){var u=c.shape,f=n?"height":"width";u[f]=0}return c},polar:function(a,t,e,r,n,i,o,s,l){var c=!n&&l?Pt:$e,u=new c({shape:r,z2:1});u.name="item";var f=zn(n);if(u.calculateTextPosition=bs(f,{isRoundCap:c===Pt}),i){var g=u.shape,v=n?"r":"endAngle",h={};g[v]=n?r.r0:r.startAngle,h[v]=r[v],(s?ge:xe)(u,{shape:h},i)}return u}};function Cs(a,t){var e=a.get("realtimeSort",!0),r=t.getBaseAxis();if(e&&r.type==="category"&&t.type==="cartesian2d")return{baseAxis:r,otherAxis:t.getOtherAxis(r)}}function Sa(a,t,e,r,n,i,o,s){var l,c;i?(c={x:r.x,width:r.width},l={y:r.y,height:r.height}):(c={y:r.y,height:r.height},l={x:r.x,width:r.width}),s||(o?ge:xe)(e,{shape:l},t,n,null);var u=t?a.baseAxis.model:null;(o?ge:xe)(e,{shape:c},u,n)}function ba(a,t){for(var e=0;e<t.length;e++)if(!isFinite(a[t[e]]))return!0;return!1}var Ts=["x","y","width","height"],Ps=["cx","cy","r","startAngle","endAngle"],Aa={cartesian2d:function(a){return!ba(a,Ts)},polar:function(a){return!ba(a,Ps)}},mt={cartesian2d:function(a,t,e){var r=a.getItemLayout(t),n=e?Ls(e,r):0,i=r.width>0?1:-1,o=r.height>0?1:-1;return{x:r.x+i*n/2,y:r.y+o*n/2,width:r.width-i*n,height:r.height-o*n}},polar:function(a,t,e){var r=a.getItemLayout(t);return{cx:r.cx,cy:r.cy,r0:r.r0,r:r.r,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}}};function Ds(a){return a.startAngle!=null&&a.endAngle!=null&&a.startAngle===a.endAngle}function zn(a){return function(t){var e=t?"Arc":"Angle";return function(r){switch(r){case"start":case"insideStart":case"end":case"insideEnd":return r+e;default:return r}}}(a)}function _a(a,t,e,r,n,i,o,s){var l=t.getItemVisual(e,"style");if(s){if(!i.get("roundCap")){var u=a.shape,f=it(r.getModel("itemStyle"),u,!0);$(u,f),a.setShape(u)}}else{var c=r.get(["itemStyle","borderRadius"])||0;a.setShape("r",c)}a.useStyle(l);var g=r.getShallow("cursor");g&&a.attr("cursor",g);var v=s?o?n.r>=n.r0?"endArc":"startArc":n.endAngle>=n.startAngle?"endAngle":"startAngle":o?n.height>=0?"bottom":"top":n.width>=0?"right":"left",h=hn(r);_r(a,h,{labelFetcher:i,labelDataIndex:e,defaultText:Yi(i.getData(),e),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:v});var d=a.getTextContent();if(s&&d){var p=r.get(["label","position"]);a.textConfig.inside=p==="middle"?!0:null,As(a,p==="outside"?v:p,zn(o),r.get(["label","rotate"]))}gn(d,h,i.getRawValue(e),function(m){return $i(t,m)});var y=r.getModel(["emphasis"]);bt(a,y.get("focus"),y.get("blurScope"),y.get("disabled")),At(a,r),Ds(n)&&(a.style.fill="none",a.style.stroke="none",L(a.states,function(m){m.style&&(m.style.fill=m.style.stroke="none")}))}function Ls(a,t){var e=a.get(["itemStyle","borderColor"]);if(!e||e==="none")return 0;var r=a.get(["itemStyle","borderWidth"])||0,n=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),i=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(r,n,i)}var Ms=function(){function a(){}return a}(),wa=function(a){F(t,a);function t(e){var r=a.call(this,e)||this;return r.type="largeBar",r}return t.prototype.getDefaultShape=function(){return new Ms},t.prototype.buildPath=function(e,r){for(var n=r.points,i=this.baseDimIdx,o=1-this.baseDimIdx,s=[],l=[],c=this.barWidth,u=0;u<n.length;u+=3)l[i]=c,l[o]=n[u+2],s[i]=n[u+i],s[o]=n[u+o],e.rect(s[0],s[1],l[0],l[1])},t}(vt);function Ca(a,t,e,r){var n=a.getData(),i=n.getLayout("valueAxisHorizontal")?1:0,o=n.getLayout("largeDataIndices"),s=n.getLayout("size"),l=a.getModel("backgroundStyle"),c=n.getLayout("largeBackgroundPoints");if(c){var u=new wa({shape:{points:c},incremental:!!r,silent:!0,z2:0});u.baseDimIdx=i,u.largeDataIndices=o,u.barWidth=s,u.useStyle(l.getItemStyle()),t.add(u),e&&e.push(u)}var f=new wa({shape:{points:n.getLayout("largePoints")},incremental:!!r,ignoreCoarsePointer:!0,z2:1});f.baseDimIdx=i,f.largeDataIndices=o,f.barWidth=s,t.add(f),f.useStyle(n.getVisual("style")),f.style.stroke=null,st(f).seriesIndex=a.seriesIndex,a.get("silent")||(f.on("mousedown",Ta),f.on("mousemove",Ta)),e&&e.push(f)}var Ta=Xi(function(a){var t=this,e=Is(t,a.offsetX,a.offsetY);st(t).dataIndex=e>=0?e:null},30,!1);function Is(a,t,e){for(var r=a.baseDimIdx,n=1-r,i=a.shape.points,o=a.largeDataIndices,s=[],l=[],c=a.barWidth,u=0,f=i.length/3;u<f;u++){var g=u*3;if(l[r]=c,l[n]=i[g+2],s[r]=i[g+r],s[n]=i[g+n],l[n]<0&&(s[n]+=l[n],l[n]=-l[n]),t>=s[0]&&t<=s[0]+l[0]&&e>=s[1]&&e<=s[1]+l[1])return o[u]}return-1}function Fn(a,t,e){if(dn(e,"cartesian2d")){var r=t,n=e.getArea();return{x:a?r.x:n.x,y:a?n.y:r.y,width:a?r.width:n.width,height:a?n.height:r.height}}else{var n=e.getArea(),i=t;return{cx:n.cx,cy:n.cy,r0:a?n.r0:i.r0,r:a?n.r:i.r,startAngle:a?i.startAngle:0,endAngle:a?i.endAngle:Math.PI*2}}}function Os(a,t,e){var r=a.type==="polar"?$e:ke;return new r({shape:Fn(t,e,a),silent:!0,z2:0})}function Ou(a){a.registerChartView(ws),a.registerSeriesModel(xs),a.registerLayout(a.PRIORITY.VISUAL.LAYOUT,H(qi,"bar")),a.registerLayout(a.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,ji("bar")),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,Ki("bar")),a.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,e){var r=t.componentType||"series";e.eachComponent({mainType:r,query:t},function(n){t.sortInfo&&n.axis.setCategorySortInfo(t.sortInfo)})})}var Pa=Math.PI*2,yt=Math.PI/180;function Wn(a,t){return _t(a.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function Un(a,t){var e=Wn(a,t),r=a.get("center"),n=a.get("radius");he(n)||(n=[0,n]);var i=W(e.width,t.getWidth()),o=W(e.height,t.getHeight()),s=Math.min(i,o),l=W(n[0],s/2),c=W(n[1],s/2),u,f,g=a.coordinateSystem;if(g){var v=g.dataToPoint(r);u=v[0]||0,f=v[1]||0}else he(r)||(r=[r,r]),u=W(r[0],i)+e.x,f=W(r[1],o)+e.y;return{cx:u,cy:f,r0:l,r:c}}function Rs(a,t,e){t.eachSeriesByType(a,function(r){var n=r.getData(),i=n.mapDimension("value"),o=Wn(r,e),s=Un(r,e),l=s.cx,c=s.cy,u=s.r,f=s.r0,g=-r.get("startAngle")*yt,v=r.get("endAngle"),h=r.get("padAngle")*yt;v=v==="auto"?g-Pa:-v*yt;var d=r.get("minAngle")*yt,p=d+h,y=0;n.each(i,function(k){!isNaN(k)&&y++});var m=n.getSum(i),x=Math.PI/(m||y)*2,S=r.get("clockwise"),b=r.get("roseType"),w=r.get("stillShowZeroSum"),A=n.getDataExtent(i);A[0]=0;var C=S?1:-1,D=[g,v],_=C*h/2;pn(D,!S),g=D[0],v=D[1];var P=Zn(r);P.startAngle=g,P.endAngle=v,P.clockwise=S;var I=Math.abs(v-g),T=I,O=0,M=g;if(n.setLayout({viewRect:o,r:u}),n.each(i,function(k,R){var E;if(isNaN(k)){n.setItemLayout(R,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:S,cx:l,cy:c,r0:f,r:b?NaN:u});return}b!=="area"?E=m===0&&w?x:k*x:E=I/y,E<p?(E=p,T-=p):O+=k;var V=M+C*E,G=0,B=0;h>E?(G=M+C*E/2,B=G):(G=M+_,B=V-_),n.setItemLayout(R,{angle:E,startAngle:G,endAngle:B,clockwise:S,cx:l,cy:c,r0:f,r:b?Q(k,A,[f,u]):u}),M=V}),T<Pa&&y)if(T<=.001){var N=I/y;n.each(i,function(k,R){if(!isNaN(k)){var E=n.getItemLayout(R);E.angle=N;var V=0,G=0;N<h?(V=g+C*(R+1/2)*N,G=V):(V=g+C*R*N+_,G=g+C*(R+1)*N-_),E.startAngle=V,E.endAngle=G}})}else x=T/O,M=g,n.each(i,function(k,R){if(!isNaN(k)){var E=n.getItemLayout(R),V=E.angle===p?p:k*x,G=0,B=0;V<h?(G=M+C*V/2,B=G):(G=M+_,B=M+C*V-_),E.startAngle=G,E.endAngle=B,M+=C*V}})})}var Zn=wr();function ks(a){return{seriesType:a,reset:function(t,e){var r=e.findComponents({mainType:"legend"});if(!(!r||!r.length)){var n=t.getData();n.filterSelf(function(i){for(var o=n.getName(i),s=0;s<r.length;s++)if(!r[s].isSelected(o))return!1;return!0})}}}}var et=Math.PI*2,Le=sn.CMD,Ns=["top","right","bottom","left"];function Es(a,t,e,r,n){var i=e.width,o=e.height;switch(a){case"top":r.set(e.x+i/2,e.y-t),n.set(0,-1);break;case"bottom":r.set(e.x+i/2,e.y+o+t),n.set(0,1);break;case"left":r.set(e.x-t,e.y+o/2),n.set(-1,0);break;case"right":r.set(e.x+i+t,e.y+o/2),n.set(1,0);break}}function Vs(a,t,e,r,n,i,o,s,l){o-=a,s-=t;var c=Math.sqrt(o*o+s*s);o/=c,s/=c;var u=o*e+a,f=s*e+t;if(Math.abs(r-n)%et<1e-4)return l[0]=u,l[1]=f,c-e;if(i){var g=r;r=gt(n),n=gt(g)}else r=gt(r),n=gt(n);r>n&&(n+=et);var v=Math.atan2(s,o);if(v<0&&(v+=et),v>=r&&v<=n||v+et>=r&&v+et<=n)return l[0]=u,l[1]=f,c-e;var h=e*Math.cos(r)+a,d=e*Math.sin(r)+t,p=e*Math.cos(n)+a,y=e*Math.sin(n)+t,m=(h-o)*(h-o)+(d-s)*(d-s),x=(p-o)*(p-o)+(y-s)*(y-s);return m<x?(l[0]=h,l[1]=d,Math.sqrt(m)):(l[0]=p,l[1]=y,Math.sqrt(x))}function Dt(a,t,e,r,n,i,o,s){var l=n-a,c=i-t,u=e-a,f=r-t,g=Math.sqrt(u*u+f*f);u/=g,f/=g;var v=l*u+c*f,h=v/g;s&&(h=Math.min(Math.max(h,0),1)),h*=g;var d=o[0]=a+h*u,p=o[1]=t+h*f;return Math.sqrt((d-n)*(d-n)+(p-i)*(p-i))}function Hn(a,t,e,r,n,i,o){e<0&&(a=a+e,e=-e),r<0&&(t=t+r,r=-r);var s=a+e,l=t+r,c=o[0]=Math.min(Math.max(n,a),s),u=o[1]=Math.min(Math.max(i,t),l);return Math.sqrt((c-n)*(c-n)+(u-i)*(u-i))}var ne=[];function Gs(a,t,e){var r=Hn(t.x,t.y,t.width,t.height,a.x,a.y,ne);return e.set(ne[0],ne[1]),r}function Bs(a,t,e){for(var r=0,n=0,i=0,o=0,s,l,c=1/0,u=t.data,f=a.x,g=a.y,v=0;v<u.length;){var h=u[v++];v===1&&(r=u[v],n=u[v+1],i=r,o=n);var d=c;switch(h){case Le.M:i=u[v++],o=u[v++],r=i,n=o;break;case Le.L:d=Dt(r,n,u[v],u[v+1],f,g,ne,!0),r=u[v++],n=u[v++];break;case Le.C:d=Qi(r,n,u[v++],u[v++],u[v++],u[v++],u[v],u[v+1],f,g,ne),r=u[v++],n=u[v++];break;case Le.Q:d=Ji(r,n,u[v++],u[v++],u[v],u[v+1],f,g,ne),r=u[v++],n=u[v++];break;case Le.A:var p=u[v++],y=u[v++],m=u[v++],x=u[v++],S=u[v++],b=u[v++];v+=1;var w=!!(1-u[v++]);s=Math.cos(S)*m+p,l=Math.sin(S)*x+y,v<=1&&(i=s,o=l);var A=(f-p)*x/m+p;d=Vs(p,y,x,S,S+b,w,A,g,ne),r=Math.cos(S+b)*m+p,n=Math.sin(S+b)*x+y;break;case Le.R:i=r=u[v++],o=n=u[v++];var C=u[v++],D=u[v++];d=Hn(i,o,C,D,f,g,ne);break;case Le.Z:d=Dt(r,n,i,o,f,g,ne,!0),r=i,n=o;break}d<c&&(c=d,e.set(ne[0],ne[1]))}return c}var oe=new q,z=new q,Z=new q,ce=new q,le=new q;function Ru(a,t){if(a){var e=a.getTextGuideLine(),r=a.getTextContent();if(r&&e){var n=a.textGuideLineConfig||{},i=[[0,0],[0,0],[0,0]],o=n.candidates||Ns,s=r.getBoundingRect().clone();s.applyTransform(r.getComputedTransform());var l=1/0,c=n.anchor,u=a.getComputedTransform(),f=u&&mn([],u),g=t.get("length2")||0;c&&Z.copy(c);for(var v=0;v<o.length;v++){var h=o[v];Es(h,0,s,oe,ce),q.scaleAndAdd(z,oe,ce,g),z.transform(f);var d=a.getBoundingRect(),p=c?c.distance(z):a instanceof vt?Bs(z,a.path,Z):Gs(z,d,Z);p<l&&(l=p,z.transform(u),Z.transform(u),Z.toArray(i[0]),z.toArray(i[1]),oe.toArray(i[2]))}Yn(i,t.get("minTurnAngle")),e.setShape({points:i})}}}var Lt=[],K=new q;function Yn(a,t){if(t<=180&&t>0){t=t/180*Math.PI,oe.fromArray(a[0]),z.fromArray(a[1]),Z.fromArray(a[2]),q.sub(ce,oe,z),q.sub(le,Z,z);var e=ce.len(),r=le.len();if(!(e<.001||r<.001)){ce.scale(1/e),le.scale(1/r);var n=ce.dot(le),i=Math.cos(t);if(i<n){var o=Dt(z.x,z.y,Z.x,Z.y,oe.x,oe.y,Lt,!1);K.fromArray(Lt),K.scaleAndAdd(le,o/Math.tan(Math.PI-t));var s=Z.x!==z.x?(K.x-z.x)/(Z.x-z.x):(K.y-z.y)/(Z.y-z.y);if(isNaN(s))return;s<0?q.copy(K,z):s>1&&q.copy(K,Z),K.toArray(a[1])}}}}function zs(a,t,e){if(e<=180&&e>0){e=e/180*Math.PI,oe.fromArray(a[0]),z.fromArray(a[1]),Z.fromArray(a[2]),q.sub(ce,z,oe),q.sub(le,Z,z);var r=ce.len(),n=le.len();if(!(r<.001||n<.001)){ce.scale(1/r),le.scale(1/n);var i=ce.dot(t),o=Math.cos(e);if(i<o){var s=Dt(z.x,z.y,Z.x,Z.y,oe.x,oe.y,Lt,!1);K.fromArray(Lt);var l=Math.PI/2,c=Math.acos(le.dot(t)),u=l+c-e;if(u>=l)q.copy(K,Z);else{K.scaleAndAdd(le,s/Math.tan(Math.PI/2-u));var f=Z.x!==z.x?(K.x-z.x)/(Z.x-z.x):(K.y-z.y)/(Z.y-z.y);if(isNaN(f))return;f<0?q.copy(K,z):f>1&&q.copy(K,Z)}K.toArray(a[1])}}}}function Ht(a,t,e,r){var n=e==="normal",i=n?a:a.ensureState(e);i.ignore=t;var o=r.get("smooth");o&&o===!0&&(o=.3),i.shape=i.shape||{},o>0&&(i.shape.smooth=o);var s=r.getModel("lineStyle").getLineStyle();n?a.useStyle(s):i.style=s}function Fs(a,t){var e=t.smooth,r=t.points;if(r)if(a.moveTo(r[0][0],r[0][1]),e>0&&r.length>=3){var n=jr(r[0],r[1]),i=jr(r[1],r[2]);if(!n||!i){a.lineTo(r[1][0],r[1][1]),a.lineTo(r[2][0],r[2][1]);return}var o=Math.min(n,i)*e,s=Bt([],r[1],r[0],o/n),l=Bt([],r[1],r[2],o/i),c=Bt([],s,l,.5);a.bezierCurveTo(s[0],s[1],s[0],s[1],c[0],c[1]),a.bezierCurveTo(l[0],l[1],l[0],l[1],r[2][0],r[2][1])}else for(var u=1;u<r.length;u++)a.lineTo(r[u][0],r[u][1])}function Ws(a,t,e){var r=a.getTextGuideLine(),n=a.getTextContent();if(!n){r&&a.removeTextGuideLine();return}for(var i=t.normal,o=i.get("show"),s=n.ignore,l=0;l<$r.length;l++){var c=$r[l],u=t[c],f=c==="normal";if(u){var g=u.get("show"),v=f?s:ye(n.states[c]&&n.states[c].ignore,s);if(v||!ye(g,o)){var h=f?r:r&&r.states[c];h&&(h.ignore=!0),r&&Ht(r,!0,c,u);continue}r||(r=new Cr,a.setTextGuideLine(r),!f&&(s||!o)&&Ht(r,!0,"normal",t.normal),a.stateProxy&&(r.stateProxy=a.stateProxy)),Ht(r,!1,c,u)}}if(r){Qe(r.style,e),r.style.fill=null;var d=i.get("showAbove"),p=a.textGuideLineConfig=a.textGuideLineConfig||{};p.showAbove=d||!1,r.buildPath=Fs}}function Us(a,t){t=t||"labelLine";for(var e={normal:a.getModel(t)},r=0;r<qr.length;r++){var n=qr[r];e[n]=a.getModel([n,t])}return e}var Zs=Math.PI/180;function Da(a,t,e,r,n,i,o,s,l,c){if(a.length<2)return;function u(d){for(var p=d.rB,y=p*p,m=0;m<d.list.length;m++){var x=d.list[m],S=Math.abs(x.label.y-e),b=r+x.len,w=b*b,A=Math.sqrt(Math.abs((1-S*S/y)*w)),C=t+(A+x.len2)*n,D=C-x.label.x,_=x.targetTextWidth-D*n;Xn(x,_,!0),x.label.x=C}}function f(d){for(var p={list:[],maxY:0},y={list:[],maxY:0},m=0;m<d.length;m++)if(d[m].labelAlignTo==="none"){var x=d[m],S=x.label.y>e?y:p,b=Math.abs(x.label.y-e);if(b>=S.maxY){var w=x.label.x-t-x.len2*n,A=r+x.len,C=Math.abs(w)<A?Math.sqrt(b*b/(1-w*w/A/A)):A;S.rB=C,S.maxY=b}S.list.push(x)}u(p),u(y)}for(var g=a.length,v=0;v<g;v++)if(a[v].position==="outer"&&a[v].labelAlignTo==="labelLine"){var h=a[v].label.x-c;a[v].linePoints[1][0]+=h,a[v].label.x=c}eo(a,l,l+o)&&f(a)}function Hs(a,t,e,r,n,i,o,s){for(var l=[],c=[],u=Number.MAX_VALUE,f=-Number.MAX_VALUE,g=0;g<a.length;g++){var v=a[g].label;Yt(a[g])||(v.x<t?(u=Math.min(u,v.x),l.push(a[g])):(f=Math.max(f,v.x),c.push(a[g])))}for(var g=0;g<a.length;g++){var h=a[g];if(!Yt(h)&&h.linePoints){if(h.labelStyleWidth!=null)continue;var v=h.label,d=h.linePoints,p=void 0;h.labelAlignTo==="edge"?v.x<t?p=d[2][0]-h.labelDistance-o-h.edgeDistance:p=o+n-h.edgeDistance-d[2][0]-h.labelDistance:h.labelAlignTo==="labelLine"?v.x<t?p=u-o-h.bleedMargin:p=o+n-f-h.bleedMargin:v.x<t?p=v.x-o-h.bleedMargin:p=o+n-v.x-h.bleedMargin,h.targetTextWidth=p,Xn(h,p)}}Da(c,t,e,r,1,n,i,o,s,f),Da(l,t,e,r,-1,n,i,o,s,u);for(var g=0;g<a.length;g++){var h=a[g];if(!Yt(h)&&h.linePoints){var v=h.label,d=h.linePoints,y=h.labelAlignTo==="edge",m=v.style.padding,x=m?m[1]+m[3]:0,S=v.style.backgroundColor?0:x,b=h.rect.width+S,w=d[1][0]-d[2][0];y?v.x<t?d[2][0]=o+h.edgeDistance+b+h.labelDistance:d[2][0]=o+n-h.edgeDistance-b-h.labelDistance:(v.x<t?d[2][0]=v.x+h.labelDistance:d[2][0]=v.x-h.labelDistance,d[1][0]=d[2][0]+w),d[1][1]=d[2][1]=v.y}}}function Xn(a,t,e){if(e===void 0&&(e=!1),a.labelStyleWidth==null){var r=a.label,n=r.style,i=a.rect,o=n.backgroundColor,s=n.padding,l=s?s[1]+s[3]:0,c=n.overflow,u=i.width+(o?0:l);if(t<u||e){var f=i.height;if(c&&c.match("break")){r.setStyle("backgroundColor",null),r.setStyle("width",t-l);var g=r.getBoundingRect();r.setStyle("width",Math.ceil(g.width)),r.setStyle("backgroundColor",o)}else{var v=t-l,h=t<u?v:e?v>a.unconstrainedWidth?null:v:null;r.setStyle("width",h)}var d=r.getBoundingRect();i.width=d.width;var p=(r.style.margin||0)+2.1;i.height=d.height+p,i.y-=(i.height-f)/2}}}function Yt(a){return a.position==="center"}function Ys(a){var t=a.getData(),e=[],r,n,i=!1,o=(a.get("minShowLabelAngle")||0)*Zs,s=t.getLayout("viewRect"),l=t.getLayout("r"),c=s.width,u=s.x,f=s.y,g=s.height;function v(w){w.ignore=!0}function h(w){if(!w.ignore)return!0;for(var A in w.states)if(w.states[A].ignore===!1)return!0;return!1}t.each(function(w){var A=t.getItemGraphicEl(w),C=A.shape,D=A.getTextContent(),_=A.getTextGuideLine(),P=t.getItemModel(w),I=P.getModel("label"),T=I.get("position")||P.get(["emphasis","label","position"]),O=I.get("distanceToLabelLine"),M=I.get("alignTo"),N=W(I.get("edgeDistance"),c),k=I.get("bleedMargin"),R=P.getModel("labelLine"),E=R.get("length");E=W(E,c);var V=R.get("length2");if(V=W(V,c),Math.abs(C.endAngle-C.startAngle)<o){L(D.states,v),D.ignore=!0,_&&(L(_.states,v),_.ignore=!0);return}if(h(D)){var G=(C.startAngle+C.endAngle)/2,B=Math.cos(G),j=Math.sin(G),X,J,Te,Ge;r=C.cx,n=C.cy;var te=T==="inside"||T==="inner";if(T==="center")X=C.cx,J=C.cy,Ge="center";else{var Se=(te?(C.r+C.r0)/2*B:C.r*B)+r,Be=(te?(C.r+C.r0)/2*j:C.r*j)+n;if(X=Se+B*3,J=Be+j*3,!te){var Pe=Se+B*(E+l-C.r),ft=Be+j*(E+l-C.r),ze=Pe+(B<0?-1:1)*V,Fe=ft;M==="edge"?X=B<0?u+N:u+c-N:X=ze+(B<0?-O:O),J=Fe,Te=[[Se,Be],[Pe,ft],[ze,Fe]]}Ge=te?"center":M==="edge"?B>0?"right":"left":B>0?"left":"right"}var be=Math.PI,re=0,de=I.get("rotate");if(Je(de))re=de*(be/180);else if(T==="center")re=0;else if(de==="radial"||de===!0){var We=B<0?-G+be:-G;re=We}else if(de==="tangential"&&T!=="outside"&&T!=="outer"){var ae=Math.atan2(B,j);ae<0&&(ae=be*2+ae);var ht=j>0;ht&&(ae=be+ae),re=ae-be}if(i=!!re,D.x=X,D.y=J,D.rotation=re,D.setStyle({verticalAlign:"middle"}),te){D.setStyle({align:Ge});var Gt=D.states.select;Gt&&(Gt.x+=D.x,Gt.y+=D.y)}else{var Ae=D.getBoundingRect().clone();Ae.applyTransform(D.getComputedTransform());var Ur=(D.style.margin||0)+2.1;Ae.y-=Ur/2,Ae.height+=Ur,e.push({label:D,labelLine:_,position:T,len:E,len2:V,minTurnAngle:R.get("minTurnAngle"),maxSurfaceAngle:R.get("maxSurfaceAngle"),surfaceNormal:new q(B,j),linePoints:Te,textAlign:Ge,labelDistance:O,labelAlignTo:M,edgeDistance:N,bleedMargin:k,rect:Ae,unconstrainedWidth:Ae.width,labelStyleWidth:D.style.width})}A.setTextConfig({inside:te})}}),!i&&a.get("avoidLabelOverlap")&&Hs(e,r,n,l,c,g,u,f);for(var d=0;d<e.length;d++){var p=e[d],y=p.label,m=p.labelLine,x=isNaN(y.x)||isNaN(y.y);if(y){y.setStyle({align:p.textAlign}),x&&(L(y.states,v),y.ignore=!0);var S=y.states.select;S&&(S.x+=y.x,S.y+=y.y)}if(m){var b=p.linePoints;x||!b?(L(m.states,v),m.ignore=!0):(Yn(b,p.minTurnAngle),zs(b,p.surfaceNormal,p.maxSurfaceAngle),m.setShape({points:b}),y.__hostTarget.textGuideLineConfig={anchor:new q(b[0][0],b[0][1])})}}}var Xs=function(a){F(t,a);function t(e,r,n){var i=a.call(this)||this;i.z2=2;var o=new ue;return i.setTextContent(o),i.updateData(e,r,n,!0),i}return t.prototype.updateData=function(e,r,n,i){var o=this,s=e.hostModel,l=e.getItemModel(r),c=l.getModel("emphasis"),u=e.getItemLayout(r),f=$(it(l.getModel("itemStyle"),u,!0),u);if(isNaN(f.startAngle)){o.setShape(f);return}if(i){o.setShape(f);var g=s.getShallow("animationType");s.ecModel.ssr?(xe(o,{scaleX:0,scaleY:0},s,{dataIndex:r,isFrom:!0}),o.originX=f.cx,o.originY=f.cy):g==="scale"?(o.shape.r=u.r0,xe(o,{shape:{r:u.r}},s,r)):n!=null?(o.setShape({startAngle:n,endAngle:n}),xe(o,{shape:{startAngle:u.startAngle,endAngle:u.endAngle}},s,r)):(o.shape.endAngle=u.startAngle,ge(o,{shape:{endAngle:u.endAngle}},s,r))}else fn(o),ge(o,{shape:f},s,r);o.useStyle(e.getItemVisual(r,"style")),At(o,l);var v=(u.startAngle+u.endAngle)/2,h=s.get("selectedOffset"),d=Math.cos(v)*h,p=Math.sin(v)*h,y=l.getShallow("cursor");y&&o.attr("cursor",y),this._updateLabel(s,e,r),o.ensureState("emphasis").shape=$({r:u.r+(c.get("scale")&&c.get("scaleSize")||0)},it(c.getModel("itemStyle"),u)),$(o.ensureState("select"),{x:d,y:p,shape:it(l.getModel(["select","itemStyle"]),u)}),$(o.ensureState("blur"),{shape:it(l.getModel(["blur","itemStyle"]),u)});var m=o.getTextGuideLine(),x=o.getTextContent();m&&$(m.ensureState("select"),{x:d,y:p}),$(x.ensureState("select"),{x:d,y:p}),bt(this,c.get("focus"),c.get("blurScope"),c.get("disabled"))},t.prototype._updateLabel=function(e,r,n){var i=this,o=r.getItemModel(n),s=o.getModel("labelLine"),l=r.getItemVisual(n,"style"),c=l&&l.fill,u=l&&l.opacity;_r(i,hn(o),{labelFetcher:r.hostModel,labelDataIndex:n,inheritColor:c,defaultOpacity:u,defaultText:e.getFormattedLabel(n,"normal")||r.getName(n)});var f=i.getTextContent();i.setTextConfig({position:null,rotation:null}),f.attr({z2:10});var g=e.get(["label","position"]);if(g!=="outside"&&g!=="outer")i.removeTextGuideLine();else{var v=this.getTextGuideLine();v||(v=new Cr,this.setTextGuideLine(v)),Ws(this,Us(o),{stroke:c,opacity:to(s.get(["lineStyle","opacity"]),u,1)})}},t}($e),$s=function(a){F(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.ignoreLabelLineUpdate=!0,e}return t.prototype.render=function(e,r,n,i){var o=e.getData(),s=this._data,l=this.group,c;if(!s&&o.count()>0){for(var u=o.getItemLayout(0),f=1;isNaN(u&&u.startAngle)&&f<o.count();++f)u=o.getItemLayout(f);u&&(c=u.startAngle)}if(this._emptyCircleSector&&l.remove(this._emptyCircleSector),o.count()===0&&e.get("showEmptyCircle")){var g=Zn(e),v=new $e({shape:$(Un(e,n),g)});v.useStyle(e.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=v,l.add(v)}o.diff(s).add(function(h){var d=new Xs(o,h,c);o.setItemGraphicEl(h,d),l.add(d)}).update(function(h,d){var p=s.getItemGraphicEl(d);p.updateData(o,h,c),p.off("click"),l.add(p),o.setItemGraphicEl(h,p)}).remove(function(h){var d=s.getItemGraphicEl(h);tr(d,e,h)}).execute(),Ys(e),e.get("animationTypeUpdate")!=="expansion"&&(this._data=o)},t.prototype.dispose=function(){},t.prototype.containPoint=function(e,r){var n=r.getData(),i=n.getItemLayout(0);if(i){var o=e[0]-i.cx,s=e[1]-i.cy,l=Math.sqrt(o*o+s*s);return l<=i.r&&l>=i.r0}},t.type="pie",t}(Ar);function $n(a,t,e){t=he(t)&&{coordDimensions:t}||$({encodeDefine:a.getEncode()},t);var r=a.getSource(),n=ro(r,t).dimensions,i=new ao(n,a);return i.initData(r,e),i}var qs=function(){function a(t,e){this._getDataWithEncodedVisual=t,this._getRawData=e}return a.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},a.prototype.containName=function(t){var e=this._getRawData();return e.indexOfName(t)>=0},a.prototype.indexOfName=function(t){var e=this._getDataWithEncodedVisual();return e.indexOfName(t)},a.prototype.getItemVisual=function(t,e){var r=this._getDataWithEncodedVisual();return r.getItemVisual(t,e)},a}(),js=wr(),Ks=function(a){F(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.init=function(e){a.prototype.init.apply(this,arguments),this.legendVisualProvider=new qs(qe(this.getData,this),qe(this.getRawData,this)),this._defaultLabelLine(e)},t.prototype.mergeOption=function(){a.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return $n(this,{coordDimensions:["value"],encodeDefaulter:H(no,this)})},t.prototype.getDataParams=function(e){var r=this.getData(),n=js(r),i=n.seats;if(!i){var o=[];r.each(r.mapDimension("value"),function(l){o.push(l)}),i=n.seats=io(o,r.hostModel.get("percentPrecision"))}var s=a.prototype.getDataParams.call(this,e);return s.percent=i[e]||0,s.$vars.push("percent"),s},t.prototype._defaultLabelLine=function(e){oo(e,"labelLine",["show"]);var r=e.labelLine,n=e.emphasis.labelLine;r.show=r.show&&e.label.show,n.show=n.show&&e.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(Rt);function Js(a){return{seriesType:a,reset:function(t,e){var r=t.getData();r.filterSelf(function(n){var i=r.mapDimension("value"),o=r.get(i,n);return!(Je(o)&&!isNaN(o)&&o<0)})}}}function ku(a){a.registerChartView($s),a.registerSeriesModel(Ks),so("pie",a.registerAction),a.registerLayout(H(Rs,"pie")),a.registerProcessor(ks("pie")),a.registerProcessor(Js("pie"))}var La="\0_ec_interaction_mutex";function Qs(a,t,e){var r=kr(a);r[t]=e}function el(a,t,e){var r=kr(a),n=r[t];n===e&&(r[t]=null)}function Nu(a,t){return!!kr(a)[t]}function kr(a){return a[La]||(a[La]={})}kt({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},un);var tl={axisPointer:1,tooltip:1,brush:1};function rl(a,t,e){var r=t.getComponentByElement(a.topTarget),n=r&&r.coordinateSystem;return r&&r!==e&&!tl.hasOwnProperty(r.mainType)&&n&&n.model!==e}var al=1e-8;function Ma(a,t){return Math.abs(a-t)<al}function Ia(a,t,e){var r=0,n=a[0];if(!n)return!1;for(var i=1;i<a.length;i++){var o=a[i];r+=Kr(n[0],n[1],o[0],o[1],t,e),n=o}var s=a[0];return(!Ma(n[0],s[0])||!Ma(n[1],s[1]))&&(r+=Kr(n[0],n[1],s[0],s[1],t,e)),r!==0}var nl=[];function Xt(a,t){for(var e=0;e<a.length;e++)yn(a[e],a[e],t)}function Oa(a,t,e,r){for(var n=0;n<a.length;n++){var i=a[n];r&&(i=r.project(i)),i&&isFinite(i[0])&&isFinite(i[1])&&(co(t,t,i),vo(e,e,i))}}function il(a){for(var t=0,e=0,r=0,n=a.length,i=a[n-1][0],o=a[n-1][1],s=0;s<n;s++){var l=a[s][0],c=a[s][1],u=i*c-l*o;t+=u,e+=(i+l)*u,r+=(o+c)*u,i=l,o=c}return t?[e/t/3,r/t/3,t]:[a[0][0]||0,a[0][1]||0]}var qn=function(){function a(t){this.name=t}return a.prototype.setCenter=function(t){this._center=t},a.prototype.getCenter=function(){var t=this._center;return t||(t=this._center=this.calcCenter()),t},a}(),Ra=function(){function a(t,e){this.type="polygon",this.exterior=t,this.interiors=e}return a}(),ka=function(){function a(t){this.type="linestring",this.points=t}return a}(),ol=function(a){F(t,a);function t(e,r,n){var i=a.call(this,e)||this;return i.type="geoJSON",i.geometries=r,i._center=n&&[n[0],n[1]],i}return t.prototype.calcCenter=function(){for(var e=this.geometries,r,n=0,i=0;i<e.length;i++){var o=e[i],s=o.exterior,l=s&&s.length;l>n&&(r=o,n=l)}if(r)return il(r.exterior);var c=this.getBoundingRect();return[c.x+c.width/2,c.y+c.height/2]},t.prototype.getBoundingRect=function(e){var r=this._rect;if(r&&!e)return r;var n=[1/0,1/0],i=[-1/0,-1/0],o=this.geometries;return L(o,function(s){s.type==="polygon"?Oa(s.exterior,n,i,e):L(s.points,function(l){Oa(l,n,i,e)})}),isFinite(n[0])&&isFinite(n[1])&&isFinite(i[0])&&isFinite(i[1])||(n[0]=n[1]=i[0]=i[1]=0),r=new rr(n[0],n[1],i[0]-n[0],i[1]-n[1]),e||(this._rect=r),r},t.prototype.contain=function(e){var r=this.getBoundingRect(),n=this.geometries;if(!r.contain(e[0],e[1]))return!1;e:for(var i=0,o=n.length;i<o;i++){var s=n[i];if(s.type==="polygon"){var l=s.exterior,c=s.interiors;if(Ia(l,e[0],e[1])){for(var u=0;u<(c?c.length:0);u++)if(Ia(c[u],e[0],e[1]))continue e;return!0}}}return!1},t.prototype.transformTo=function(e,r,n,i){var o=this.getBoundingRect(),s=o.width/o.height;n?i||(i=n/s):n=s*i;for(var l=new rr(e,r,n,i),c=o.calculateTransform(l),u=this.geometries,f=0;f<u.length;f++){var g=u[f];g.type==="polygon"?(Xt(g.exterior,c),L(g.interiors,function(v){Xt(v,c)})):L(g.points,function(v){Xt(v,c)})}o=this._rect,o.copy(l),this._center=[o.x+o.width/2,o.y+o.height/2]},t.prototype.cloneShallow=function(e){e==null&&(e=this.name);var r=new t(e,this.geometries,this._center);return r._rect=this._rect,r.transformTo=null,r},t}(qn),Eu=function(a){F(t,a);function t(e,r){var n=a.call(this,e)||this;return n.type="geoSVG",n._elOnlyForCalculate=r,n}return t.prototype.calcCenter=function(){for(var e=this._elOnlyForCalculate,r=e.getBoundingRect(),n=[r.x+r.width/2,r.y+r.height/2],i=lo(nl),o=e;o&&!o.isGeoSVGGraphicRoot;)uo(i,o.getLocalTransform(),i),o=o.parent;return mn(i,i),yn(n,n,i),n},t}(qn);function sl(a){if(!a.UTF8Encoding)return a;var t=a,e=t.UTF8Scale;e==null&&(e=1024);var r=t.features;return L(r,function(n){var i=n.geometry,o=i.encodeOffsets,s=i.coordinates;if(o)switch(i.type){case"LineString":i.coordinates=jn(s,o,e);break;case"Polygon":$t(s,o,e);break;case"MultiLineString":$t(s,o,e);break;case"MultiPolygon":L(s,function(l,c){return $t(l,o[c],e)})}}),t.UTF8Encoding=!1,t}function $t(a,t,e){for(var r=0;r<a.length;r++)a[r]=jn(a[r],t[r],e)}function jn(a,t,e){for(var r=[],n=t[0],i=t[1],o=0;o<a.length;o+=2){var s=a.charCodeAt(o)-64,l=a.charCodeAt(o+1)-64;s=s>>1^-(s&1),l=l>>1^-(l&1),s+=n,l+=i,n=s,i=l,r.push([s/e,l/e])}return r}function Vu(a,t){return a=sl(a),U(It(a.features,function(e){return e.geometry&&e.properties&&e.geometry.coordinates.length>0}),function(e){var r=e.properties,n=e.geometry,i=[];switch(n.type){case"Polygon":var o=n.coordinates;i.push(new Ra(o[0],o.slice(1)));break;case"MultiPolygon":L(n.coordinates,function(l){l[0]&&i.push(new Ra(l[0],l.slice(1)))});break;case"LineString":i.push(new ka([n.coordinates]));break;case"MultiLineString":i.push(new ka(n.coordinates))}var s=new ol(r[t||"name"],i,r.cp);return s.properties=r,s})}var ll=function(){function a(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return a}(),ul=function(a){F(t,a);function t(e){var r=a.call(this,e)||this;return r.type="pointer",r}return t.prototype.getDefaultShape=function(){return new ll},t.prototype.buildPath=function(e,r){var n=Math.cos,i=Math.sin,o=r.r,s=r.width,l=r.angle,c=r.x-n(l)*s*(s>=o/3?1:2),u=r.y-i(l)*s*(s>=o/3?1:2);l=r.angle-Math.PI/2,e.moveTo(c,u),e.lineTo(r.x+n(l)*s,r.y+i(l)*s),e.lineTo(r.x+n(r.angle)*o,r.y+i(r.angle)*o),e.lineTo(r.x-n(l)*s,r.y-i(l)*s),e.lineTo(c,u)},t}(vt);function cl(a,t){var e=a.get("center"),r=t.getWidth(),n=t.getHeight(),i=Math.min(r,n),o=W(e[0],t.getWidth()),s=W(e[1],t.getHeight()),l=W(a.get("radius"),i/2);return{cx:o,cy:s,r:l}}function xt(a,t){var e=a==null?"":a+"";return t&&(ee(t)?e=t.replace("{value}",e):Re(t)&&(e=t(a))),e}var vl=function(a){F(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,r,n){this.group.removeAll();var i=e.get(["axisLine","lineStyle","color"]),o=cl(e,n);this._renderMain(e,r,n,i,o),this._data=e.getData()},t.prototype.dispose=function(){},t.prototype._renderMain=function(e,r,n,i,o){var s=this.group,l=e.get("clockwise"),c=-e.get("startAngle")/180*Math.PI,u=-e.get("endAngle")/180*Math.PI,f=e.getModel("axisLine"),g=f.get("roundCap"),v=g?Pt:$e,h=f.get("show"),d=f.getModel("lineStyle"),p=d.get("width"),y=[c,u];pn(y,!l),c=y[0],u=y[1];for(var m=u-c,x=c,S=[],b=0;h&&b<i.length;b++){var w=Math.min(Math.max(i[b][0],0),1);u=c+m*w;var A=new v({shape:{startAngle:x,endAngle:u,cx:o.cx,cy:o.cy,clockwise:l,r0:o.r-p,r:o.r},silent:!0});A.setStyle({fill:i[b][1]}),A.setStyle(d.getLineStyle(["color","width"])),S.push(A),x=u}S.reverse(),L(S,function(D){return s.add(D)});var C=function(D){if(D<=0)return i[0][1];var _;for(_=0;_<i.length;_++)if(i[_][0]>=D&&(_===0?0:i[_-1][0])<D)return i[_][1];return i[_-1][1]};this._renderTicks(e,r,n,C,o,c,u,l,p),this._renderTitleAndDetail(e,r,n,C,o),this._renderAnchor(e,o),this._renderPointer(e,r,n,C,o,c,u,l,p)},t.prototype._renderTicks=function(e,r,n,i,o,s,l,c,u){for(var f=this.group,g=o.cx,v=o.cy,h=o.r,d=+e.get("min"),p=+e.get("max"),y=e.getModel("splitLine"),m=e.getModel("axisTick"),x=e.getModel("axisLabel"),S=e.get("splitNumber"),b=m.get("splitNumber"),w=W(y.get("length"),h),A=W(m.get("length"),h),C=s,D=(l-s)/S,_=D/b,P=y.getModel("lineStyle").getLineStyle(),I=m.getModel("lineStyle").getLineStyle(),T=y.get("distance"),O,M,N=0;N<=S;N++){if(O=Math.cos(C),M=Math.sin(C),y.get("show")){var k=T?T+u:u,R=new Jr({shape:{x1:O*(h-k)+g,y1:M*(h-k)+v,x2:O*(h-w-k)+g,y2:M*(h-w-k)+v},style:P,silent:!0});P.stroke==="auto"&&R.setStyle({stroke:i(N/S)}),f.add(R)}if(x.get("show")){var k=x.get("distance")+T,E=xt(fo(N/S*(p-d)+d),x.get("formatter")),V=i(N/S),G=O*(h-w-k)+g,B=M*(h-w-k)+v,j=x.get("rotate"),X=0;j==="radial"?(X=-C+2*Math.PI,X>Math.PI/2&&(X+=Math.PI)):j==="tangential"?X=-C-Math.PI/2:Je(j)&&(X=j*Math.PI/180),X===0?f.add(new ue({style:at(x,{text:E,x:G,y:B,verticalAlign:M<-.8?"top":M>.8?"bottom":"middle",align:O<-.4?"left":O>.4?"right":"center"},{inheritColor:V}),silent:!0})):f.add(new ue({style:at(x,{text:E,x:G,y:B,verticalAlign:"middle",align:"center"},{inheritColor:V}),silent:!0,originX:G,originY:B,rotation:X}))}if(m.get("show")&&N!==S){var k=m.get("distance");k=k?k+u:u;for(var J=0;J<=b;J++){O=Math.cos(C),M=Math.sin(C);var Te=new Jr({shape:{x1:O*(h-k)+g,y1:M*(h-k)+v,x2:O*(h-A-k)+g,y2:M*(h-A-k)+v},silent:!0,style:I});I.stroke==="auto"&&Te.setStyle({stroke:i((N+J/b)/S)}),f.add(Te),C+=_}C-=_}else C+=D}},t.prototype._renderPointer=function(e,r,n,i,o,s,l,c,u){var f=this.group,g=this._data,v=this._progressEls,h=[],d=e.get(["pointer","show"]),p=e.getModel("progress"),y=p.get("show"),m=e.getData(),x=m.mapDimension("value"),S=+e.get("min"),b=+e.get("max"),w=[S,b],A=[s,l];function C(_,P){var I=m.getItemModel(_),T=I.getModel("pointer"),O=W(T.get("width"),o.r),M=W(T.get("length"),o.r),N=e.get(["pointer","icon"]),k=T.get("offsetCenter"),R=W(k[0],o.r),E=W(k[1],o.r),V=T.get("keepAspect"),G;return N?G=ar(N,R-O/2,E-M,O,M,null,V):G=new ul({shape:{angle:-Math.PI/2,width:O,r:M,x:R,y:E}}),G.rotation=-(P+Math.PI/2),G.x=o.cx,G.y=o.cy,G}function D(_,P){var I=p.get("roundCap"),T=I?Pt:$e,O=p.get("overlap"),M=O?p.get("width"):u/m.count(),N=O?o.r-M:o.r-(_+1)*M,k=O?o.r:o.r-_*M,R=new T({shape:{startAngle:s,endAngle:P,cx:o.cx,cy:o.cy,clockwise:c,r0:N,r:k}});return O&&(R.z2=Q(m.get(x,_),[S,b],[100,0],!0)),R}(y||d)&&(m.diff(g).add(function(_){var P=m.get(x,_);if(d){var I=C(_,s);xe(I,{rotation:-((isNaN(+P)?A[0]:Q(P,w,A,!0))+Math.PI/2)},e),f.add(I),m.setItemGraphicEl(_,I)}if(y){var T=D(_,s),O=p.get("clip");xe(T,{shape:{endAngle:Q(P,w,A,O)}},e),f.add(T),Qr(e.seriesIndex,m.dataType,_,T),h[_]=T}}).update(function(_,P){var I=m.get(x,_);if(d){var T=g.getItemGraphicEl(P),O=T?T.rotation:s,M=C(_,O);M.rotation=O,ge(M,{rotation:-((isNaN(+I)?A[0]:Q(I,w,A,!0))+Math.PI/2)},e),f.add(M),m.setItemGraphicEl(_,M)}if(y){var N=v[P],k=N?N.shape.endAngle:s,R=D(_,k),E=p.get("clip");ge(R,{shape:{endAngle:Q(I,w,A,E)}},e),f.add(R),Qr(e.seriesIndex,m.dataType,_,R),h[_]=R}}).execute(),m.each(function(_){var P=m.getItemModel(_),I=P.getModel("emphasis"),T=I.get("focus"),O=I.get("blurScope"),M=I.get("disabled");if(d){var N=m.getItemGraphicEl(_),k=m.getItemVisual(_,"style"),R=k.fill;if(N instanceof Sr){var E=N.style;N.useStyle($({image:E.image,x:E.x,y:E.y,width:E.width,height:E.height},k))}else N.useStyle(k),N.type!=="pointer"&&N.setColor(R);N.setStyle(P.getModel(["pointer","itemStyle"]).getItemStyle()),N.style.fill==="auto"&&N.setStyle("fill",i(Q(m.get(x,_),w,[0,1],!0))),N.z2EmphasisLift=0,At(N,P),bt(N,T,O,M)}if(y){var V=h[_];V.useStyle(m.getItemVisual(_,"style")),V.setStyle(P.getModel(["progress","itemStyle"]).getItemStyle()),V.z2EmphasisLift=0,At(V,P),bt(V,T,O,M)}}),this._progressEls=h)},t.prototype._renderAnchor=function(e,r){var n=e.getModel("anchor"),i=n.get("show");if(i){var o=n.get("size"),s=n.get("icon"),l=n.get("offsetCenter"),c=n.get("keepAspect"),u=ar(s,r.cx-o/2+W(l[0],r.r),r.cy-o/2+W(l[1],r.r),o,o,null,c);u.z2=n.get("showAbove")?1:0,u.setStyle(n.getModel("itemStyle").getItemStyle()),this.group.add(u)}},t.prototype._renderTitleAndDetail=function(e,r,n,i,o){var s=this,l=e.getData(),c=l.mapDimension("value"),u=+e.get("min"),f=+e.get("max"),g=new we,v=[],h=[],d=e.isAnimationEnabled(),p=e.get(["pointer","showAbove"]);l.diff(this._data).add(function(y){v[y]=new ue({silent:!0}),h[y]=new ue({silent:!0})}).update(function(y,m){v[y]=s._titleEls[m],h[y]=s._detailEls[m]}).execute(),l.each(function(y){var m=l.getItemModel(y),x=l.get(c,y),S=new we,b=i(Q(x,[u,f],[0,1],!0)),w=m.getModel("title");if(w.get("show")){var A=w.get("offsetCenter"),C=o.cx+W(A[0],o.r),D=o.cy+W(A[1],o.r),_=v[y];_.attr({z2:p?0:2,style:at(w,{x:C,y:D,text:l.getName(y),align:"center",verticalAlign:"middle"},{inheritColor:b})}),S.add(_)}var P=m.getModel("detail");if(P.get("show")){var I=P.get("offsetCenter"),T=o.cx+W(I[0],o.r),O=o.cy+W(I[1],o.r),M=W(P.get("width"),o.r),N=W(P.get("height"),o.r),k=e.get(["progress","show"])?l.getItemVisual(y,"style").fill:b,_=h[y],R=P.get("formatter");_.attr({z2:p?0:2,style:at(P,{x:T,y:O,text:xt(x,R),width:isNaN(M)?null:M,height:isNaN(N)?null:N,align:"center",verticalAlign:"middle"},{inheritColor:k})}),gn(_,{normal:P},x,function(V){return xt(V,R)}),d&&ho(_,y,l,e,{getFormattedLabel:function(V,G,B,j,X,J){return xt(J?J.interpolatedValue:x,R)}}),S.add(_)}g.add(S)}),this.group.add(g),this._titleEls=v,this._detailEls=h},t.type="gauge",t}(Ar),fl=function(a){F(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="itemStyle",e}return t.prototype.getInitialData=function(e,r){return $n(this,["value"])},t.type="series.gauge",t.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},t}(Rt);function Gu(a){a.registerChartView(vl),a.registerSeriesModel(fl)}function Kn(a,t,e,r,n,i){a=a||0;var o=e[1]-e[0];if(n!=null&&(n=Ue(n,[0,o])),i!=null&&(i=Math.max(i,n!=null?n:0)),r==="all"){var s=Math.abs(t[1]-t[0]);s=Ue(s,[0,o]),n=i=Ue(s,[n,i]),r=0}t[0]=Ue(t[0],e),t[1]=Ue(t[1],e);var l=qt(t,r);t[r]+=a;var c=n||0,u=e.slice();l.sign<0?u[0]+=c:u[1]-=c,t[r]=Ue(t[r],u);var f;return f=qt(t,r),n!=null&&(f.sign!==l.sign||f.span<n)&&(t[1-r]=t[r]+l.sign*n),f=qt(t,r),i!=null&&f.span>i&&(t[1-r]=t[r]+f.sign*i),t}function qt(a,t){var e=a[t]-a[1-t];return{span:Math.abs(e),sign:e>0?-1:e<0?1:t?-1:1}}function Ue(a,t){return Math.min(t[1]!=null?t[1]:1/0,Math.max(t[0]!=null?t[0]:-1/0,a))}var Ee=!0,ct=Math.min,je=Math.max,hl=Math.pow,gl=1e4,dl=6,pl=6,Na="globalPan",ml={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},yl={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},Ea={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},xl=0,Sl=function(a){F(t,a);function t(e){var r=a.call(this)||this;return r._track=[],r._covers=[],r._handlers={},r._zr=e,r.group=new we,r._uid="brushController_"+xl++,L(Pl,function(n,i){this._handlers[i]=qe(n,this)},r),r}return t.prototype.enableBrush=function(e){return this._brushType&&this._doDisableBrush(),e.brushType&&this._doEnableBrush(e),this},t.prototype._doEnableBrush=function(e){var r=this._zr;this._enableGlobalPan||Qs(r,Na,this._uid),L(this._handlers,function(n,i){r.on(i,n)}),this._brushType=e.brushType,this._brushOption=fe(ve(Ea),e,!0)},t.prototype._doDisableBrush=function(){var e=this._zr;el(e,Na,this._uid),L(this._handlers,function(r,n){e.off(n,r)}),this._brushType=this._brushOption=null},t.prototype.setPanels=function(e){if(e&&e.length){var r=this._panels={};L(e,function(n){r[n.panelId]=ve(n)})}else this._panels=null;return this},t.prototype.mount=function(e){e=e||{},this._enableGlobalPan=e.enableGlobalPan;var r=this.group;return this._zr.add(r),r.attr({x:e.x||0,y:e.y||0,rotation:e.rotation||0,scaleX:e.scaleX||1,scaleY:e.scaleY||1}),this._transform=r.getLocalTransform(),this},t.prototype.updateCovers=function(e){e=U(e,function(g){return fe(ve(Ea),g,!0)});var r="\0-brush-index-",n=this._covers,i=this._covers=[],o=this,s=this._creatingCover;return new xn(n,e,c,l).add(u).update(u).remove(f).execute(),this;function l(g,v){return(g.id!=null?g.id:r+v)+"-"+g.brushType}function c(g,v){return l(g.__brushOption,v)}function u(g,v){var h=e[g];if(v!=null&&n[v]===s)i[g]=n[v];else{var d=i[g]=v!=null?(n[v].__brushOption=h,n[v]):Qn(o,Jn(o,h));Nr(o,d)}}function f(g){n[g]!==s&&o.group.remove(n[g])}},t.prototype.unmount=function(){return this.enableBrush(!1),lr(this),this._zr.remove(this.group),this},t.prototype.dispose=function(){this.unmount(),this.off()},t}(go);function Jn(a,t){var e=Et[t.brushType].createCover(a,t);return e.__brushOption=t,ti(e,t),a.group.add(e),e}function Qn(a,t){var e=Er(t);return e.endCreating&&(e.endCreating(a,t),ti(t,t.__brushOption)),t}function ei(a,t){var e=t.__brushOption;Er(t).updateCoverShape(a,t,e.range,e)}function ti(a,t){var e=t.z;e==null&&(e=gl),a.traverse(function(r){r.z=e,r.z2=e})}function Nr(a,t){Er(t).updateCommon(a,t),ei(a,t)}function Er(a){return Et[a.__brushOption.brushType]}function Vr(a,t,e){var r=a._panels;if(!r)return Ee;var n,i=a._transform;return L(r,function(o){o.isTargetByCursor(t,e,i)&&(n=o)}),n}function ri(a,t){var e=a._panels;if(!e)return Ee;var r=t.__brushOption.panelId;return r!=null?e[r]:Ee}function lr(a){var t=a._covers,e=t.length;return L(t,function(r){a.group.remove(r)},a),t.length=0,!!e}function Ve(a,t){var e=U(a._covers,function(r){var n=r.__brushOption,i=ve(n.range);return{brushType:n.brushType,panelId:n.panelId,range:i}});a.trigger("brush",{areas:e,isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function bl(a){var t=a._track;if(!t.length)return!1;var e=t[t.length-1],r=t[0],n=e[0]-r[0],i=e[1]-r[1],o=hl(n*n+i*i,.5);return o>dl}function ai(a){var t=a.length-1;return t<0&&(t=0),[a[0],a[t]]}function ni(a,t,e,r){var n=new we;return n.add(new ke({name:"main",style:Gr(e),silent:!0,draggable:!0,cursor:"move",drift:H(Va,a,t,n,["n","s","w","e"]),ondragend:H(Ve,t,{isEnd:!0})})),L(r,function(i){n.add(new ke({name:i.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:H(Va,a,t,n,i),ondragend:H(Ve,t,{isEnd:!0})}))}),n}function ii(a,t,e,r){var n=r.brushStyle.lineWidth||0,i=je(n,pl),o=e[0][0],s=e[1][0],l=o-n/2,c=s-n/2,u=e[0][1],f=e[1][1],g=u-i+n/2,v=f-i+n/2,h=u-o,d=f-s,p=h+n,y=d+n;pe(a,t,"main",o,s,h,d),r.transformable&&(pe(a,t,"w",l,c,i,y),pe(a,t,"e",g,c,i,y),pe(a,t,"n",l,c,p,i),pe(a,t,"s",l,v,p,i),pe(a,t,"nw",l,c,i,i),pe(a,t,"ne",g,c,i,i),pe(a,t,"sw",l,v,i,i),pe(a,t,"se",g,v,i,i))}function ur(a,t){var e=t.__brushOption,r=e.transformable,n=t.childAt(0);n.useStyle(Gr(e)),n.attr({silent:!r,cursor:r?"move":"default"}),L([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(i){var o=t.childOfName(i.join("")),s=i.length===1?cr(a,i[0]):_l(a,i);o&&o.attr({silent:!r,invisible:!r,cursor:r?yl[s]+"-resize":null})})}function pe(a,t,e,r,n,i,o){var s=t.childOfName(e);s&&s.setShape(Cl(Br(a,t,[[r,n],[r+i,n+o]])))}function Gr(a){return Qe({strokeNoScale:!0},a.brushStyle)}function oi(a,t,e,r){var n=[ct(a,e),ct(t,r)],i=[je(a,e),je(t,r)];return[[n[0],i[0]],[n[1],i[1]]]}function Al(a){return Sn(a.group)}function cr(a,t){var e={w:"left",e:"right",n:"top",s:"bottom"},r={left:"w",right:"e",top:"n",bottom:"s"},n=mo(e[t],Al(a));return r[n]}function _l(a,t){var e=[cr(a,t[0]),cr(a,t[1])];return(e[0]==="e"||e[0]==="w")&&e.reverse(),e.join("")}function Va(a,t,e,r,n,i){var o=e.__brushOption,s=a.toRectRange(o.range),l=si(t,n,i);L(r,function(c){var u=ml[c];s[u[0]][u[1]]+=l[u[0]]}),o.range=a.fromRectRange(oi(s[0][0],s[1][0],s[0][1],s[1][1])),Nr(t,e),Ve(t,{isEnd:!1})}function wl(a,t,e,r){var n=t.__brushOption.range,i=si(a,e,r);L(n,function(o){o[0]+=i[0],o[1]+=i[1]}),Nr(a,t),Ve(a,{isEnd:!1})}function si(a,t,e){var r=a.group,n=r.transformCoordToLocal(t,e),i=r.transformCoordToLocal(0,0);return[n[0]-i[0],n[1]-i[1]]}function Br(a,t,e){var r=ri(a,t);return r&&r!==Ee?r.clipPath(e,a._transform):ve(e)}function Cl(a){var t=ct(a[0][0],a[1][0]),e=ct(a[0][1],a[1][1]),r=je(a[0][0],a[1][0]),n=je(a[0][1],a[1][1]);return{x:t,y:e,width:r-t,height:n-e}}function Tl(a,t,e){if(!(!a._brushType||Dl(a,t.offsetX,t.offsetY))){var r=a._zr,n=a._covers,i=Vr(a,t,e);if(!a._dragging)for(var o=0;o<n.length;o++){var s=n[o].__brushOption;if(i&&(i===Ee||s.panelId===i.panelId)&&Et[s.brushType].contain(n[o],e[0],e[1]))return}i&&r.setCursorStyle("crosshair")}}function vr(a){var t=a.event;t.preventDefault&&t.preventDefault()}function fr(a,t,e){return a.childOfName("main").contain(t,e)}function li(a,t,e,r){var n=a._creatingCover,i=a._creatingPanel,o=a._brushOption,s;if(a._track.push(e.slice()),bl(a)||n){if(i&&!n){o.brushMode==="single"&&lr(a);var l=ve(o);l.brushType=Ga(l.brushType,i),l.panelId=i===Ee?null:i.panelId,n=a._creatingCover=Jn(a,l),a._covers.push(n)}if(n){var c=Et[Ga(a._brushType,i)],u=n.__brushOption;u.range=c.getCreatingRange(Br(a,n,a._track)),r&&(Qn(a,n),c.updateCommon(a,n)),ei(a,n),s={isEnd:r}}}else r&&o.brushMode==="single"&&o.removeOnClick&&Vr(a,t,e)&&lr(a)&&(s={isEnd:r,removeOnClick:!0});return s}function Ga(a,t){return a==="auto"?t.defaultBrushType:a}var Pl={mousedown:function(a){if(this._dragging)Ba(this,a);else if(!a.target||!a.target.draggable){vr(a);var t=this.group.transformCoordToLocal(a.offsetX,a.offsetY);this._creatingCover=null;var e=this._creatingPanel=Vr(this,a,t);e&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(a){var t=a.offsetX,e=a.offsetY,r=this.group.transformCoordToLocal(t,e);if(Tl(this,a,r),this._dragging){vr(a);var n=li(this,a,r,!1);n&&Ve(this,n)}},mouseup:function(a){Ba(this,a)}};function Ba(a,t){if(a._dragging){vr(t);var e=t.offsetX,r=t.offsetY,n=a.group.transformCoordToLocal(e,r),i=li(a,t,n,!0);a._dragging=!1,a._track=[],a._creatingCover=null,i&&Ve(a,i)}}function Dl(a,t,e){var r=a._zr;return t<0||t>r.getWidth()||e<0||e>r.getHeight()}var Et={lineX:za(0),lineY:za(1),rect:{createCover:function(a,t){function e(r){return r}return ni({toRectRange:e,fromRectRange:e},a,t,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(a){var t=ai(a);return oi(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(a,t,e,r){ii(a,t,e,r)},updateCommon:ur,contain:fr},polygon:{createCover:function(a,t){var e=new we;return e.add(new Cr({name:"main",style:Gr(t),silent:!0})),e},getCreatingRange:function(a){return a},endCreating:function(a,t){t.remove(t.childAt(0)),t.add(new po({name:"main",draggable:!0,drift:H(wl,a,t),ondragend:H(Ve,a,{isEnd:!0})}))},updateCoverShape:function(a,t,e,r){t.childAt(0).setShape({points:Br(a,t,e)})},updateCommon:ur,contain:fr}};function za(a){return{createCover:function(t,e){return ni({toRectRange:function(r){var n=[r,[0,100]];return a&&n.reverse(),n},fromRectRange:function(r){return r[a]}},t,e,[[["w"],["e"]],[["n"],["s"]]][a])},getCreatingRange:function(t){var e=ai(t),r=ct(e[0][a],e[1][a]),n=je(e[0][a],e[1][a]);return[r,n]},updateCoverShape:function(t,e,r,n){var i,o=ri(t,e);if(o!==Ee&&o.getLinearBrushOtherExtent)i=o.getLinearBrushOtherExtent(a);else{var s=t._zr;i=[0,[s.getWidth(),s.getHeight()][1-a]]}var l=[r,i];a&&l.reverse(),ii(t,e,l,n)},updateCommon:ur,contain:fr}}function Ll(a){return a=zr(a),function(t){return yo(t,a)}}function Ml(a,t){return a=zr(a),function(e){var r=t!=null?t:e,n=r?a.width:a.height,i=r?a.x:a.y;return[i,i+(n||0)]}}function Il(a,t,e){var r=zr(a);return function(n,i){return r.contain(i[0],i[1])&&!rl(n,t,e)}}function zr(a){return rr.create(a)}var Fa=["x","y","radius","angle","single"],Ol=["cartesian2d","polar","singleAxis"];function Rl(a){var t=a.get("coordinateSystem");return Ne(Ol,t)>=0}function Oe(a){return a+"Axis"}function kl(a,t){var e=Ce(),r=[],n=Ce();a.eachComponent({mainType:"dataZoom",query:t},function(u){n.get(u.uid)||s(u)});var i;do i=!1,a.eachComponent("dataZoom",o);while(i);function o(u){!n.get(u.uid)&&l(u)&&(s(u),i=!0)}function s(u){n.set(u.uid,!0),r.push(u),c(u)}function l(u){var f=!1;return u.eachTargetAxis(function(g,v){var h=e.get(g);h&&h[v]&&(f=!0)}),f}function c(u){u.eachTargetAxis(function(f,g){(e.get(f)||e.set(f,[]))[g]=!0})}return r}function Bu(a){var t=a.ecModel,e={infoList:[],infoMap:Ce()};return a.eachTargetAxis(function(r,n){var i=t.getComponent(Oe(r),n);if(i){var o=i.getCoordSysModel();if(o){var s=o.uid,l=e.infoMap.get(s);l||(l={model:o,axisModels:[]},e.infoList.push(l),e.infoMap.set(s,l)),l.axisModels.push(i)}}}),e}var jt=function(){function a(){this.indexList=[],this.indexMap=[]}return a.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},a}(),Nl=function(a){F(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e._autoThrottle=!0,e._noTarget=!0,e._rangePropMode=["percent","percent"],e}return t.prototype.init=function(e,r,n){var i=Wa(e);this.settledOption=i,this.mergeDefaultAndTheme(e,n),this._doInit(i)},t.prototype.mergeOption=function(e){var r=Wa(e);fe(this.option,e,!0),fe(this.settledOption,r,!0),this._doInit(r)},t.prototype._doInit=function(e){var r=this.option;this._setDefaultThrottle(e),this._updateRangeUse(e);var n=this.settledOption;L([["start","startValue"],["end","endValue"]],function(i,o){this._rangePropMode[o]==="value"&&(r[i[0]]=n[i[0]]=null)},this),this._resetTarget()},t.prototype._resetTarget=function(){var e=this.get("orient",!0),r=this._targetAxisInfoMap=Ce(),n=this._fillSpecifiedTargetAxis(r);n?this._orient=e||this._makeAutoOrientByTargetAxis():(this._orient=e||"horizontal",this._fillAutoTargetAxisByOrient(r,this._orient)),this._noTarget=!0,r.each(function(i){i.indexList.length&&(this._noTarget=!1)},this)},t.prototype._fillSpecifiedTargetAxis=function(e){var r=!1;return L(Fa,function(n){var i=this.getReferringComponents(Oe(n),xo);if(i.specified){r=!0;var o=new jt;L(i.models,function(s){o.add(s.componentIndex)}),e.set(n,o)}},this),r},t.prototype._fillAutoTargetAxisByOrient=function(e,r){var n=this.ecModel,i=!0;if(i){var o=r==="vertical"?"y":"x",s=n.findComponents({mainType:o+"Axis"});l(s,o)}if(i){var s=n.findComponents({mainType:"singleAxis",filter:function(u){return u.get("orient",!0)===r}});l(s,"single")}function l(c,u){var f=c[0];if(f){var g=new jt;if(g.add(f.componentIndex),e.set(u,g),i=!1,u==="x"||u==="y"){var v=f.getReferringComponents("grid",wt).models[0];v&&L(c,function(h){f.componentIndex!==h.componentIndex&&v===h.getReferringComponents("grid",wt).models[0]&&g.add(h.componentIndex)})}}}i&&L(Fa,function(c){if(i){var u=n.findComponents({mainType:Oe(c),filter:function(g){return g.get("type",!0)==="category"}});if(u[0]){var f=new jt;f.add(u[0].componentIndex),e.set(c,f),i=!1}}},this)},t.prototype._makeAutoOrientByTargetAxis=function(){var e;return this.eachTargetAxis(function(r){!e&&(e=r)},this),e==="y"?"vertical":"horizontal"},t.prototype._setDefaultThrottle=function(e){if(e.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var r=this.ecModel.option;this.option.throttle=r.animation&&r.animationDurationUpdate>0?100:20}},t.prototype._updateRangeUse=function(e){var r=this._rangePropMode,n=this.get("rangeMode");L([["start","startValue"],["end","endValue"]],function(i,o){var s=e[i[0]]!=null,l=e[i[1]]!=null;s&&!l?r[o]="percent":!s&&l?r[o]="value":n?r[o]=n[o]:s&&(r[o]="percent")})},t.prototype.noTarget=function(){return this._noTarget},t.prototype.getFirstTargetAxisModel=function(){var e;return this.eachTargetAxis(function(r,n){e==null&&(e=this.ecModel.getComponent(Oe(r),n))},this),e},t.prototype.eachTargetAxis=function(e,r){this._targetAxisInfoMap.each(function(n,i){L(n.indexList,function(o){e.call(r,i,o)})})},t.prototype.getAxisProxy=function(e,r){var n=this.getAxisModel(e,r);if(n)return n.__dzAxisProxy},t.prototype.getAxisModel=function(e,r){var n=this._targetAxisInfoMap.get(e);if(n&&n.indexMap[r])return this.ecModel.getComponent(Oe(e),r)},t.prototype.setRawRange=function(e){var r=this.option,n=this.settledOption;L([["start","startValue"],["end","endValue"]],function(i){(e[i[0]]!=null||e[i[1]]!=null)&&(r[i[0]]=n[i[0]]=e[i[0]],r[i[1]]=n[i[1]]=e[i[1]])},this),this._updateRangeUse(e)},t.prototype.setCalculatedRange=function(e){var r=this.option;L(["start","startValue","end","endValue"],function(n){r[n]=e[n]})},t.prototype.getPercentRange=function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},t.prototype.getValueRange=function(e,r){if(e==null&&r==null){var n=this.findRepresentativeAxisProxy();if(n)return n.getDataValueWindow()}else return this.getAxisProxy(e,r).getDataValueWindow()},t.prototype.findRepresentativeAxisProxy=function(e){if(e)return e.__dzAxisProxy;for(var r,n=this._targetAxisInfoMap.keys(),i=0;i<n.length;i++)for(var o=n[i],s=this._targetAxisInfoMap.get(o),l=0;l<s.indexList.length;l++){var c=this.getAxisProxy(o,s.indexList[l]);if(c.hostedBy(this))return c;r||(r=c)}return r},t.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},t.prototype.getOrient=function(){return this._orient},t.type="dataZoom",t.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],t.defaultOption={z:4,filterMode:"filter",start:0,end:100},t}(Tr);function Wa(a){var t={};return L(["start","end","startValue","endValue","throttle"],function(e){a.hasOwnProperty(e)&&(t[e]=a[e])}),t}var El=function(a){F(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.select",t}(Nl),Vl=function(a){F(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,r,n,i){this.dataZoomModel=e,this.ecModel=r,this.api=n},t.type="dataZoom",t}(Pr),Gl=function(a){F(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.type="dataZoom.select",t}(Vl),Ye=L,Ua=_o,Bl=function(){function a(t,e,r,n){this._dimName=t,this._axisIndex=e,this.ecModel=n,this._dataZoomModel=r}return a.prototype.hostedBy=function(t){return this._dataZoomModel===t},a.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},a.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},a.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries(function(e){if(Rl(e)){var r=Oe(this._dimName),n=e.getReferringComponents(r,wt).models[0];n&&this._axisIndex===n.componentIndex&&t.push(e)}},this),t},a.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},a.prototype.getMinMaxSpan=function(){return ve(this._minMaxSpan)},a.prototype.calculateDataWindow=function(t){var e=this._dataExtent,r=this.getAxisModel(),n=r.axis.scale,i=this._dataZoomModel.getRangePropMode(),o=[0,100],s=[],l=[],c;Ye(["start","end"],function(g,v){var h=t[g],d=t[g+"Value"];i[v]==="percent"?(h==null&&(h=o[v]),d=n.parse(Q(h,o,e))):(c=!0,d=d==null?e[v]:n.parse(d),h=Q(d,e,o)),l[v]=d==null||isNaN(d)?e[v]:d,s[v]=h==null||isNaN(h)?o[v]:h}),Ua(l),Ua(s);var u=this._minMaxSpan;c?f(l,s,e,o,!1):f(s,l,o,e,!0);function f(g,v,h,d,p){var y=p?"Span":"ValueSpan";Kn(0,g,h,"all",u["min"+y],u["max"+y]);for(var m=0;m<2;m++)v[m]=Q(g[m],h,d,!0),p&&(v[m]=n.parse(v[m]))}return{valueWindow:l,percentWindow:s}},a.prototype.reset=function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=zl(this,this._dimName,e),this._updateMinMaxSpan();var r=this.calculateDataWindow(t.settledOption);this._valueWindow=r.valueWindow,this._percentWindow=r.percentWindow,this._setAxisModel()}},a.prototype.filterData=function(t,e){if(t!==this._dataZoomModel)return;var r=this._dimName,n=this.getTargetSeriesModels(),i=t.get("filterMode"),o=this._valueWindow;if(i==="none")return;Ye(n,function(l){var c=l.getData(),u=c.mapDimensionsAll(r);if(u.length){if(i==="weakFilter"){var f=c.getStore(),g=U(u,function(v){return c.getDimensionIndex(v)},c);c.filterSelf(function(v){for(var h,d,p,y=0;y<u.length;y++){var m=f.get(g[y],v),x=!isNaN(m),S=m<o[0],b=m>o[1];if(x&&!S&&!b)return!0;x&&(p=!0),S&&(h=!0),b&&(d=!0)}return p&&h&&d})}else Ye(u,function(v){if(i==="empty")l.setData(c=c.map(v,function(d){return s(d)?d:NaN}));else{var h={};h[v]=o,c.selectRange(h)}});Ye(u,function(v){c.setApproximateExtent(o,v)})}});function s(l){return l>=o[0]&&l<=o[1]}},a.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},e=this._dataZoomModel,r=this._dataExtent;Ye(["min","max"],function(n){var i=e.get(n+"Span"),o=e.get(n+"ValueSpan");o!=null&&(o=this.getAxisModel().axis.scale.parse(o)),o!=null?i=Q(r[0]+o,r,[0,100],!0):i!=null&&(o=Q(i,[0,100],r,!0)-r[0]),t[n+"Span"]=i,t[n+"ValueSpan"]=o},this)},a.prototype._setAxisModel=function(){var t=this.getAxisModel(),e=this._percentWindow,r=this._valueWindow;if(e){var n=So(r,[0,500]);n=Math.min(n,20);var i=t.axis.scale.rawExtentInfo;e[0]!==0&&i.setDeterminedMinMax("min",+r[0].toFixed(n)),e[1]!==100&&i.setDeterminedMinMax("max",+r[1].toFixed(n)),i.freeze()}},a}();function zl(a,t,e){var r=[1/0,-1/0];Ye(e,function(o){bo(r,o.getData(),t)});var n=a.getAxisModel(),i=Ao(n.axis.scale,n,r).calculate();return[i.min,i.max]}var Fl={getTargetSeries:function(a){function t(n){a.eachComponent("dataZoom",function(i){i.eachTargetAxis(function(o,s){var l=a.getComponent(Oe(o),s);n(o,s,l,i)})})}t(function(n,i,o,s){o.__dzAxisProxy=null});var e=[];t(function(n,i,o,s){o.__dzAxisProxy||(o.__dzAxisProxy=new Bl(n,i,s,a),e.push(o.__dzAxisProxy))});var r=Ce();return L(e,function(n){L(n.getTargetSeriesModels(),function(i){r.set(i.uid,i)})}),r},overallReset:function(a,t){a.eachComponent("dataZoom",function(e){e.eachTargetAxis(function(r,n){e.getAxisProxy(r,n).reset(e)}),e.eachTargetAxis(function(r,n){e.getAxisProxy(r,n).filterData(e,t)})}),a.eachComponent("dataZoom",function(e){var r=e.findRepresentativeAxisProxy();if(r){var n=r.getDataPercentWindow(),i=r.getDataValueWindow();e.setCalculatedRange({start:n[0],end:n[1],startValue:i[0],endValue:i[1]})}})}};function Wl(a){a.registerAction("dataZoom",function(t,e){var r=kl(e,t);L(r,function(n){n.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})})}var Za=!1;function Ul(a){Za||(Za=!0,a.registerProcessor(a.PRIORITY.PROCESSOR.FILTER,Fl),Wl(a),a.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function Zl(a){a.registerComponentModel(El),a.registerComponentView(Gl),Ul(a)}var ie=function(){function a(){}return a}(),ui={};function tt(a,t){ui[a]=t}function ci(a){return ui[a]}var Hl=function(a){F(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.optionUpdated=function(){a.prototype.optionUpdated.apply(this,arguments);var e=this.ecModel;L(this.option.feature,function(r,n){var i=ci(n);i&&(i.getDefaultOption&&(i.defaultOption=i.getDefaultOption(e)),fe(r,i.defaultOption))})},t.type="toolbox",t.layoutMode={type:"box",ignoreSize:!0},t.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},t}(Tr);function Yl(a,t,e){var r=t.getBoxLayoutParams(),n=t.get("padding"),i={width:e.getWidth(),height:e.getHeight()},o=_t(r,i,n);Xe(t.get("orient"),a,t.get("itemGap"),o.width,o.height),wo(a,r,i,n)}function vi(a,t){var e=Co(t.get("padding")),r=t.getItemStyle(["color","opacity"]);return r.fill=t.get("backgroundColor"),a=new ke({shape:{x:a.x-e[3],y:a.y-e[0],width:a.width+e[1]+e[3],height:a.height+e[0]+e[2],r:t.get("borderRadius")},style:r,silent:!0,z2:-1}),a}var Xl=function(a){F(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.render=function(e,r,n,i){var o=this.group;if(o.removeAll(),!e.get("show"))return;var s=+e.get("itemSize"),l=e.get("orient")==="vertical",c=e.get("feature")||{},u=this._features||(this._features={}),f=[];L(c,function(h,d){f.push(d)}),new xn(this._featureNames||[],f).add(g).update(g).remove(H(g,null)).execute(),this._featureNames=f;function g(h,d){var p=f[h],y=f[d],m=c[p],x=new bn(m,e,e.ecModel),S;if(i&&i.newTitle!=null&&i.featureName===p&&(m.title=i.newTitle),p&&!y){if($l(p))S={onclick:x.option.onclick,featureName:p};else{var b=ci(p);if(!b)return;S=new b}u[p]=S}else if(S=u[y],!S)return;S.uid=To("toolbox-feature"),S.model=x,S.ecModel=r,S.api=n;var w=S instanceof ie;if(!p&&y){w&&S.dispose&&S.dispose(r,n);return}if(!x.get("show")||w&&S.unusable){w&&S.remove&&S.remove(r,n);return}v(x,S,p),x.setIconStatus=function(A,C){var D=this.option,_=this.iconPaths;D.iconStatus=D.iconStatus||{},D.iconStatus[A]=C,_[A]&&(C==="emphasis"?ea:ta)(_[A])},S instanceof ie&&S.render&&S.render(x,r,n,i)}function v(h,d,p){var y=h.getModel("iconStyle"),m=h.getModel(["emphasis","iconStyle"]),x=d instanceof ie&&d.getIcons?d.getIcons():h.get("icon"),S=h.get("title")||{},b,w;ee(x)?(b={},b[p]=x):b=x,ee(S)?(w={},w[p]=S):w=S;var A=h.iconPaths={};L(b,function(C,D){var _=An(C,{},{x:-s/2,y:-s/2,width:s,height:s});_.setStyle(y.getItemStyle());var P=_.ensureState("emphasis");P.style=m.getItemStyle();var I=new ue({style:{text:w[D],align:m.get("textAlign"),borderRadius:m.get("textBorderRadius"),padding:m.get("textPadding"),fill:null,font:Po({fontStyle:m.get("textFontStyle"),fontFamily:m.get("textFontFamily"),fontSize:m.get("textFontSize"),fontWeight:m.get("textFontWeight")},r)},ignore:!0});_.setTextContent(I),_n({el:_,componentModel:e,itemName:D,formatterParamsExtra:{title:w[D]}}),_.__title=w[D],_.on("mouseover",function(){var T=m.getItemStyle(),O=l?e.get("right")==null&&e.get("left")!=="right"?"right":"left":e.get("bottom")==null&&e.get("top")!=="bottom"?"bottom":"top";I.setStyle({fill:m.get("textFill")||T.fill||T.stroke||"#000",backgroundColor:m.get("textBackgroundColor")}),_.setTextConfig({position:m.get("textPosition")||O}),I.ignore=!e.get("showTitle"),n.enterEmphasis(this)}).on("mouseout",function(){h.get(["iconStatus",D])!=="emphasis"&&n.leaveEmphasis(this),I.hide()}),(h.get(["iconStatus",D])==="emphasis"?ea:ta)(_),o.add(_),_.on("click",qe(d.onclick,d,r,n,D)),A[D]=_})}Yl(o,e,n),o.add(vi(o.getBoundingRect(),e)),l||o.eachChild(function(h){var d=h.__title,p=h.ensureState("emphasis"),y=p.textConfig||(p.textConfig={}),m=h.getTextContent(),x=m&&m.ensureState("emphasis");if(x&&!Re(x)&&d){var S=x.style||(x.style={}),b=Do(d,ue.makeFont(S)),w=h.x+o.x,A=h.y+o.y+s,C=!1;A+b.height>n.getHeight()&&(y.position="top",C=!0);var D=C?-5-b.height:s+10;w+b.width/2>n.getWidth()?(y.position=["100%",D],S.align="right"):w-b.width/2<0&&(y.position=[0,D],S.align="left")}})},t.prototype.updateView=function(e,r,n,i){L(this._features,function(o){o instanceof ie&&o.updateView&&o.updateView(o.model,r,n,i)})},t.prototype.remove=function(e,r){L(this._features,function(n){n instanceof ie&&n.remove&&n.remove(e,r)}),this.group.removeAll()},t.prototype.dispose=function(e,r){L(this._features,function(n){n instanceof ie&&n.dispose&&n.dispose(e,r)})},t.type="toolbox",t}(Pr);function $l(a){return a.indexOf("my")===0}var ql=function(a){F(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.onclick=function(e,r){var n=this.model,i=n.get("name")||e.get("title.0.text")||"echarts",o=r.getZr().painter.getType()==="svg",s=o?"svg":n.get("type",!0)||"png",l=r.getConnectedDataURL({type:s,backgroundColor:n.get("backgroundColor",!0)||e.get("backgroundColor")||"#fff",connectedBackgroundColor:n.get("connectedBackgroundColor"),excludeComponents:n.get("excludeComponents"),pixelRatio:n.get("pixelRatio")}),c=Lo.browser;if(typeof MouseEvent=="function"&&(c.newEdge||!c.ie&&!c.edge)){var u=document.createElement("a");u.download=i+"."+s,u.target="_blank",u.href=l;var f=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});u.dispatchEvent(f)}else if(window.navigator.msSaveOrOpenBlob||o){var g=l.split(","),v=g[0].indexOf("base64")>-1,h=o?decodeURIComponent(g[1]):g[1];v&&(h=window.atob(h));var d=i+"."+s;if(window.navigator.msSaveOrOpenBlob){for(var p=h.length,y=new Uint8Array(p);p--;)y[p]=h.charCodeAt(p);var m=new Blob([y]);window.navigator.msSaveOrOpenBlob(m,d)}else{var x=document.createElement("iframe");document.body.appendChild(x);var S=x.contentWindow,b=S.document;b.open("image/svg+xml","replace"),b.write(h),b.close(),S.focus(),b.execCommand("SaveAs",!0,d),document.body.removeChild(x)}}else{var w=n.get("lang"),A='<body style="margin:0;"><img src="'+l+'" style="max-width:100%;" title="'+(w&&w[0]||"")+'" /></body>',C=window.open();C.document.write(A),C.document.title=i}},t.getDefaultOption=function(e){var r={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:e.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:e.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return r},t}(ie),Ha="__ec_magicType_stack__",jl=[["line","bar"],["stack"]],Kl=function(a){F(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.getIcons=function(){var e=this.model,r=e.get("icon"),n={};return L(e.get("type"),function(i){r[i]&&(n[i]=r[i])}),n},t.getDefaultOption=function(e){var r={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:e.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return r},t.prototype.onclick=function(e,r,n){var i=this.model,o=i.get(["seriesIndex",n]);if(Ya[n]){var s={series:[]},l=function(f){var g=f.subType,v=f.id,h=Ya[n](g,v,f,i);h&&(Qe(h,f.option),s.series.push(h));var d=f.coordinateSystem;if(d&&d.type==="cartesian2d"&&(n==="line"||n==="bar")){var p=d.getAxesByScale("ordinal")[0];if(p){var y=p.dim,m=y+"Axis",x=f.getReferringComponents(m,wt).models[0],S=x.componentIndex;s[m]=s[m]||[];for(var b=0;b<=S;b++)s[m][S]=s[m][S]||{};s[m][S].boundaryGap=n==="bar"}}};L(jl,function(f){Ne(f,n)>=0&&L(f,function(g){i.setIconStatus(g,"normal")})}),i.setIconStatus(n,"emphasis"),e.eachComponent({mainType:"series",query:o==null?null:{seriesIndex:o}},l);var c,u=n;n==="stack"&&(c=fe({stack:i.option.title.tiled,tiled:i.option.title.stack},i.option.title),i.get(["iconStatus",n])!=="emphasis"&&(u="tiled")),r.dispatchAction({type:"changeMagicType",currentType:u,newOption:s,newTitle:c,featureName:"magicType"})}},t}(ie),Ya={line:function(a,t,e,r){if(a==="bar")return fe({id:t,type:"line",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},r.get(["option","line"])||{},!0)},bar:function(a,t,e,r){if(a==="line")return fe({id:t,type:"bar",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},r.get(["option","bar"])||{},!0)},stack:function(a,t,e,r){var n=e.get("stack")===Ha;if(a==="line"||a==="bar")return r.setIconStatus("stack",n?"normal":"emphasis"),fe({id:t,stack:n?"":Ha},r.get(["option","stack"])||{},!0)}};kt({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(a,t){t.mergeOption(a.newOption)});var Vt=new Array(60).join("-"),Ke="	";function Jl(a){var t={},e=[],r=[];return a.eachRawSeries(function(n){var i=n.coordinateSystem;if(i&&(i.type==="cartesian2d"||i.type==="polar")){var o=i.getBaseAxis();if(o.type==="category"){var s=o.dim+"_"+o.index;t[s]||(t[s]={categoryAxis:o,valueAxis:i.getOtherAxis(o),series:[]},r.push({axisDim:o.dim,axisIndex:o.index})),t[s].series.push(n)}else e.push(n)}else e.push(n)}),{seriesGroupByCategoryAxis:t,other:e,meta:r}}function Ql(a){var t=[];return L(a,function(e,r){var n=e.categoryAxis,i=e.valueAxis,o=i.dim,s=[" "].concat(U(e.series,function(v){return v.name})),l=[n.model.getCategories()];L(e.series,function(v){var h=v.getRawData();l.push(v.getRawData().mapArray(h.mapDimension(o),function(d){return d}))});for(var c=[s.join(Ke)],u=0;u<l[0].length;u++){for(var f=[],g=0;g<l.length;g++)f.push(l[g][u]);c.push(f.join(Ke))}t.push(c.join(`
`))}),t.join(`

`+Vt+`

`)}function eu(a){return U(a,function(t){var e=t.getRawData(),r=[t.name],n=[];return e.each(e.dimensions,function(){for(var i=arguments.length,o=arguments[i-1],s=e.getName(o),l=0;l<i-1;l++)n[l]=arguments[l];r.push((s?s+Ke:"")+n.join(Ke))}),r.join(`
`)}).join(`

`+Vt+`

`)}function tu(a){var t=Jl(a);return{value:It([Ql(t.seriesGroupByCategoryAxis),eu(t.other)],function(e){return!!e.replace(/[\n\t\s]/g,"")}).join(`

`+Vt+`

`),meta:t.meta}}function Mt(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function ru(a){var t=a.slice(0,a.indexOf(`
`));if(t.indexOf(Ke)>=0)return!0}var hr=new RegExp("["+Ke+"]+","g");function au(a){for(var t=a.split(/\n+/g),e=Mt(t.shift()).split(hr),r=[],n=U(e,function(l){return{name:l,data:[]}}),i=0;i<t.length;i++){var o=Mt(t[i]).split(hr);r.push(o.shift());for(var s=0;s<o.length;s++)n[s]&&(n[s].data[i]=o[s])}return{series:n,categories:r}}function nu(a){for(var t=a.split(/\n+/g),e=Mt(t.shift()),r=[],n=0;n<t.length;n++){var i=Mt(t[n]);if(i){var o=i.split(hr),s="",l=void 0,c=!1;isNaN(o[0])?(c=!0,s=o[0],o=o.slice(1),r[n]={name:s,value:[]},l=r[n].value):l=r[n]=[];for(var u=0;u<o.length;u++)l.push(+o[u]);l.length===1&&(c?r[n].value=l[0]:r[n]=l[0])}}return{name:e,data:r}}function iu(a,t){var e=a.split(new RegExp(`
*`+Vt+`
*`,"g")),r={series:[]};return L(e,function(n,i){if(ru(n)){var o=au(n),s=t[i],l=s.axisDim+"Axis";s&&(r[l]=r[l]||[],r[l][s.axisIndex]={data:o.categories},r.series=r.series.concat(o.series))}else{var o=nu(n);r.series.push(o)}}),r}var ou=function(a){F(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.onclick=function(e,r){setTimeout(function(){r.dispatchAction({type:"hideTip"})});var n=r.getDom(),i=this.model;this._dom&&n.removeChild(this._dom);var o=document.createElement("div");o.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",o.style.backgroundColor=i.get("backgroundColor")||"#fff";var s=document.createElement("h4"),l=i.get("lang")||[];s.innerHTML=l[0]||i.get("title"),s.style.cssText="margin:10px 20px",s.style.color=i.get("textColor");var c=document.createElement("div"),u=document.createElement("textarea");c.style.cssText="overflow:auto";var f=i.get("optionToContent"),g=i.get("contentToOption"),v=tu(e);if(Re(f)){var h=f(r.getOption());ee(h)?c.innerHTML=h:Mo(h)&&c.appendChild(h)}else{u.readOnly=i.get("readOnly");var d=u.style;d.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",d.color=i.get("textColor"),d.borderColor=i.get("textareaBorderColor"),d.backgroundColor=i.get("textareaColor"),u.value=v.value,c.appendChild(u)}var p=v.meta,y=document.createElement("div");y.style.cssText="position:absolute;bottom:5px;left:0;right:0";var m="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",x=document.createElement("div"),S=document.createElement("div");m+=";background-color:"+i.get("buttonColor"),m+=";color:"+i.get("buttonTextColor");var b=this;function w(){n.removeChild(o),b._dom=null}ra(x,"click",w),ra(S,"click",function(){if(g==null&&f!=null||g!=null&&f==null){w();return}var A;try{Re(g)?A=g(c,r.getOption()):A=iu(u.value,p)}catch(C){throw w(),new Error("Data view format error "+C)}A&&r.dispatchAction({type:"changeDataView",newOption:A}),w()}),x.innerHTML=l[1],S.innerHTML=l[2],S.style.cssText=x.style.cssText=m,!i.get("readOnly")&&y.appendChild(S),y.appendChild(x),o.appendChild(s),o.appendChild(c),o.appendChild(y),c.style.height=n.clientHeight-80+"px",n.appendChild(o),this._dom=o},t.prototype.remove=function(e,r){this._dom&&r.getDom().removeChild(this._dom)},t.prototype.dispose=function(e,r){this.remove(e,r)},t.getDefaultOption=function(e){var r={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:e.getLocaleModel().get(["toolbox","dataView","title"]),lang:e.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return r},t}(ie);function su(a,t){return U(a,function(e,r){var n=t&&t[r];if(er(n)&&!he(n)){var i=er(e)&&!he(e);i||(e={value:e});var o=n.name!=null&&e.name==null;return e=Qe(e,n),o&&delete e.name,e}else return e})}kt({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(a,t){var e=[];L(a.newOption.series,function(r){var n=t.getSeriesByName(r.name)[0];if(!n)e.push($({type:"scatter"},r));else{var i=n.get("data");e.push({name:r.name,data:su(r.data,i)})}}),t.mergeOption(Qe({series:e},a.newOption))});var fi=L,hi=wr();function lu(a,t){var e=Fr(a);fi(t,function(r,n){for(var i=e.length-1;i>=0;i--){var o=e[i];if(o[n])break}if(i<0){var s=a.queryComponents({mainType:"dataZoom",subType:"select",id:n})[0];if(s){var l=s.getPercentRange();e[0][n]={dataZoomId:n,start:l[0],end:l[1]}}}}),e.push(t)}function uu(a){var t=Fr(a),e=t[t.length-1];t.length>1&&t.pop();var r={};return fi(e,function(n,i){for(var o=t.length-1;o>=0;o--)if(n=t[o][i],n){r[i]=n;break}}),r}function cu(a){hi(a).snapshots=null}function vu(a){return Fr(a).length}function Fr(a){var t=hi(a);return t.snapshots||(t.snapshots=[{}]),t.snapshots}var fu=function(a){F(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.onclick=function(e,r){cu(e),r.dispatchAction({type:"restore",from:this.uid})},t.getDefaultOption=function(e){var r={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:e.getLocaleModel().get(["toolbox","restore","title"])};return r},t}(ie);kt({type:"restore",event:"restore",update:"prepareAndUpdate"},function(a,t){t.resetOption("recreate")});var hu=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],gi=function(){function a(t,e,r){var n=this;this._targetInfoList=[];var i=Xa(e,t);L(gu,function(o,s){(!r||!r.include||Ne(r.include,s)>=0)&&o(i,n._targetInfoList)})}return a.prototype.setOutputRanges=function(t,e){return this.matchOutputRanges(t,e,function(r,n,i){if((r.coordRanges||(r.coordRanges=[])).push(n),!r.coordRange){r.coordRange=n;var o=Kt[r.brushType](0,i,n);r.__rangeOffset={offset:Ka[r.brushType](o.values,r.range,[1,1]),xyMinMax:o.xyMinMax}}}),t},a.prototype.matchOutputRanges=function(t,e,r){L(t,function(n){var i=this.findTargetInfo(n,e);i&&i!==!0&&L(i.coordSyses,function(o){var s=Kt[n.brushType](1,o,n.range,!0);r(n,s.values,o,e)})},this)},a.prototype.setInputRanges=function(t,e){L(t,function(r){var n=this.findTargetInfo(r,e);if(r.range=r.range||[],n&&n!==!0){r.panelId=n.panelId;var i=Kt[r.brushType](0,n.coordSys,r.coordRange),o=r.__rangeOffset;r.range=o?Ka[r.brushType](i.values,o.offset,du(i.xyMinMax,o.xyMinMax)):i.values}},this)},a.prototype.makePanelOpts=function(t,e){return U(this._targetInfoList,function(r){var n=r.getPanelRect();return{panelId:r.panelId,defaultBrushType:e?e(r):null,clipPath:Ll(n),isTargetByCursor:Il(n,t,r.coordSysModel),getLinearBrushOtherExtent:Ml(n)}})},a.prototype.controlSeries=function(t,e,r){var n=this.findTargetInfo(t,r);return n===!0||n&&Ne(n.coordSyses,e.coordinateSystem)>=0},a.prototype.findTargetInfo=function(t,e){for(var r=this._targetInfoList,n=Xa(e,t),i=0;i<r.length;i++){var o=r[i],s=t.panelId;if(s){if(o.panelId===s)return o}else for(var l=0;l<$a.length;l++)if($a[l](n,o))return o}return!0},a}();function gr(a){return a[0]>a[1]&&a.reverse(),a}function Xa(a,t){return wn(a,t,{includeMainTypes:hu})}var gu={grid:function(a,t){var e=a.xAxisModels,r=a.yAxisModels,n=a.gridModels,i=Ce(),o={},s={};!e&&!r&&!n||(L(e,function(l){var c=l.axis.grid.model;i.set(c.id,c),o[c.id]=!0}),L(r,function(l){var c=l.axis.grid.model;i.set(c.id,c),s[c.id]=!0}),L(n,function(l){i.set(l.id,l),o[l.id]=!0,s[l.id]=!0}),i.each(function(l){var c=l.coordinateSystem,u=[];L(c.getCartesians(),function(f,g){(Ne(e,f.getAxis("x").model)>=0||Ne(r,f.getAxis("y").model)>=0)&&u.push(f)}),t.push({panelId:"grid--"+l.id,gridModel:l,coordSysModel:l,coordSys:u[0],coordSyses:u,getPanelRect:qa.grid,xAxisDeclared:o[l.id],yAxisDeclared:s[l.id]})}))},geo:function(a,t){L(a.geoModels,function(e){var r=e.coordinateSystem;t.push({panelId:"geo--"+e.id,geoModel:e,coordSysModel:e,coordSys:r,coordSyses:[r],getPanelRect:qa.geo})})}},$a=[function(a,t){var e=a.xAxisModel,r=a.yAxisModel,n=a.gridModel;return!n&&e&&(n=e.axis.grid.model),!n&&r&&(n=r.axis.grid.model),n&&n===t.gridModel},function(a,t){var e=a.geoModel;return e&&e===t.geoModel}],qa={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var a=this.coordSys,t=a.getBoundingRect().clone();return t.applyTransform(Sn(a)),t}},Kt={lineX:H(ja,0),lineY:H(ja,1),rect:function(a,t,e,r){var n=a?t.pointToData([e[0][0],e[1][0]],r):t.dataToPoint([e[0][0],e[1][0]],r),i=a?t.pointToData([e[0][1],e[1][1]],r):t.dataToPoint([e[0][1],e[1][1]],r),o=[gr([n[0],i[0]]),gr([n[1],i[1]])];return{values:o,xyMinMax:o}},polygon:function(a,t,e,r){var n=[[1/0,-1/0],[1/0,-1/0]],i=U(e,function(o){var s=a?t.pointToData(o,r):t.dataToPoint(o,r);return n[0][0]=Math.min(n[0][0],s[0]),n[1][0]=Math.min(n[1][0],s[1]),n[0][1]=Math.max(n[0][1],s[0]),n[1][1]=Math.max(n[1][1],s[1]),s});return{values:i,xyMinMax:n}}};function ja(a,t,e,r){var n=e.getAxis(["x","y"][a]),i=gr(U([0,1],function(s){return t?n.coordToData(n.toLocalCoord(r[s]),!0):n.toGlobalCoord(n.dataToCoord(r[s]))})),o=[];return o[a]=i,o[1-a]=[NaN,NaN],{values:i,xyMinMax:o}}var Ka={lineX:H(Ja,0),lineY:H(Ja,1),rect:function(a,t,e){return[[a[0][0]-e[0]*t[0][0],a[0][1]-e[0]*t[0][1]],[a[1][0]-e[1]*t[1][0],a[1][1]-e[1]*t[1][1]]]},polygon:function(a,t,e){return U(a,function(r,n){return[r[0]-e[0]*t[n][0],r[1]-e[1]*t[n][1]]})}};function Ja(a,t,e,r){return[t[0]-r[a]*e[0],t[1]-r[a]*e[1]]}function du(a,t){var e=Qa(a),r=Qa(t),n=[e[0]/r[0],e[1]/r[1]];return isNaN(n[0])&&(n[0]=1),isNaN(n[1])&&(n[1]=1),n}function Qa(a){return a?[a[0][1]-a[0][0],a[1][1]-a[1][0]]:[NaN,NaN]}var dr=L,pu=Oo("toolbox-dataZoom_"),mu=function(a){F(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.render=function(e,r,n,i){this._brushController||(this._brushController=new Sl(n.getZr()),this._brushController.on("brush",qe(this._onBrush,this)).mount()),Su(e,r,this,i,n),xu(e,r)},t.prototype.onclick=function(e,r,n){yu[n].call(this)},t.prototype.remove=function(e,r){this._brushController&&this._brushController.unmount()},t.prototype.dispose=function(e,r){this._brushController&&this._brushController.dispose()},t.prototype._onBrush=function(e){var r=e.areas;if(!e.isEnd||!r.length)return;var n={},i=this.ecModel;this._brushController.updateCovers([]);var o=new gi(Wr(this.model),i,{include:["grid"]});o.matchOutputRanges(r,i,function(c,u,f){if(f.type==="cartesian2d"){var g=c.brushType;g==="rect"?(s("x",f,u[0]),s("y",f,u[1])):s({lineX:"x",lineY:"y"}[g],f,u)}}),lu(i,n),this._dispatchZoomAction(n);function s(c,u,f){var g=u.getAxis(c),v=g.model,h=l(c,v,i),d=h.findRepresentativeAxisProxy(v).getMinMaxSpan();(d.minValueSpan!=null||d.maxValueSpan!=null)&&(f=Kn(0,f.slice(),g.scale.getExtent(),0,d.minValueSpan,d.maxValueSpan)),h&&(n[h.id]={dataZoomId:h.id,startValue:f[0],endValue:f[1]})}function l(c,u,f){var g;return f.eachComponent({mainType:"dataZoom",subType:"select"},function(v){var h=v.getAxisModel(c,u.componentIndex);h&&(g=v)}),g}},t.prototype._dispatchZoomAction=function(e){var r=[];dr(e,function(n,i){r.push(ve(n))}),r.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:r})},t.getDefaultOption=function(e){var r={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:e.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return r},t}(ie),yu={zoom:function(){var a=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:a})},back:function(){this._dispatchZoomAction(uu(this.ecModel))}};function Wr(a){var t={xAxisIndex:a.get("xAxisIndex",!0),yAxisIndex:a.get("yAxisIndex",!0),xAxisId:a.get("xAxisId",!0),yAxisId:a.get("yAxisId",!0)};return t.xAxisIndex==null&&t.xAxisId==null&&(t.xAxisIndex="all"),t.yAxisIndex==null&&t.yAxisId==null&&(t.yAxisIndex="all"),t}function xu(a,t){a.setIconStatus("back",vu(t)>1?"emphasis":"normal")}function Su(a,t,e,r,n){var i=e._isZoomActive;r&&r.type==="takeGlobalCursor"&&(i=r.key==="dataZoomSelect"?r.dataZoomSelectActive:!1),e._isZoomActive=i,a.setIconStatus("zoom",i?"emphasis":"normal");var o=new gi(Wr(a),t,{include:["grid"]}),s=o.makePanelOpts(n,function(l){return l.xAxisDeclared&&!l.yAxisDeclared?"lineX":!l.xAxisDeclared&&l.yAxisDeclared?"lineY":"rect"});e._brushController.setPanels(s).enableBrush(i&&s.length?{brushType:"auto",brushStyle:a.getModel("brushStyle").getItemStyle()}:!1)}Io("dataZoom",function(a){var t=a.getComponent("toolbox",0),e=["feature","dataZoom"];if(!t||t.get(e)==null)return;var r=t.getModel(e),n=[],i=Wr(r),o=wn(a,i);dr(o.xAxisModels,function(l){return s(l,"xAxis","xAxisIndex")}),dr(o.yAxisModels,function(l){return s(l,"yAxis","yAxisIndex")});function s(l,c,u){var f=l.componentIndex,g={type:"select",$fromToolbox:!0,filterMode:r.get("filterMode",!0)||"filter",id:pu+c+f};g[u]=f,n.push(g)}return n});function zu(a){a.registerComponentModel(Hl),a.registerComponentView(Xl),tt("saveAsImage",ql),tt("magicType",Kl),tt("dataView",ou),tt("dataZoom",mu),tt("restore",fu),Ct(Zl)}var bu=function(a,t){if(t==="all")return{type:"all",title:a.getLocaleModel().get(["legend","selector","all"])};if(t==="inverse")return{type:"inverse",title:a.getLocaleModel().get(["legend","selector","inverse"])}},pr=function(a){F(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.layoutMode={type:"box",ignoreSize:!0},e}return t.prototype.init=function(e,r,n){this.mergeDefaultAndTheme(e,n),e.selected=e.selected||{},this._updateSelector(e)},t.prototype.mergeOption=function(e,r){a.prototype.mergeOption.call(this,e,r),this._updateSelector(e)},t.prototype._updateSelector=function(e){var r=e.selector,n=this.ecModel;r===!0&&(r=e.selector=["all","inverse"]),he(r)&&L(r,function(i,o){ee(i)&&(i={type:i}),r[o]=fe(i,bu(n,i.type))})},t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&this.get("selectedMode")==="single"){for(var r=!1,n=0;n<e.length;n++){var i=e[n].get("name");if(this.isSelected(i)){this.select(i),r=!0;break}}!r&&this.select(e[0].get("name"))}},t.prototype._updateData=function(e){var r=[],n=[];e.eachRawSeries(function(l){var c=l.name;n.push(c);var u;if(l.legendVisualProvider){var f=l.legendVisualProvider,g=f.getAllNames();e.isSeriesFiltered(l)||(n=n.concat(g)),g.length?r=r.concat(g):u=!0}else u=!0;u&&Ro(l)&&r.push(l.name)}),this._availableNames=n;var i=this.get("data")||r,o=Ce(),s=U(i,function(l){return(ee(l)||Je(l))&&(l={name:l}),o.get(l.name)?null:(o.set(l.name,!0),new bn(l,this,this.ecModel))},this);this._data=It(s,function(l){return!!l})},t.prototype.getData=function(){return this._data},t.prototype.select=function(e){var r=this.option.selected,n=this.get("selectedMode");if(n==="single"){var i=this._data;L(i,function(o){r[o.get("name")]=!1})}r[e]=!0},t.prototype.unSelect=function(e){this.get("selectedMode")!=="single"&&(this.option.selected[e]=!1)},t.prototype.toggleSelected=function(e){var r=this.option.selected;r.hasOwnProperty(e)||(r[e]=!0),this[r[e]?"unSelect":"select"](e)},t.prototype.allSelect=function(){var e=this._data,r=this.option.selected;L(e,function(n){r[n.get("name",!0)]=!0})},t.prototype.inverseSelect=function(){var e=this._data,r=this.option.selected;L(e,function(n){var i=n.get("name",!0);r.hasOwnProperty(i)||(r[i]=!0),r[i]=!r[i]})},t.prototype.isSelected=function(e){var r=this.option.selected;return!(r.hasOwnProperty(e)&&!r[e])&&Ne(this._availableNames,e)>=0},t.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},t.type="legend.plain",t.dependencies=["series"],t.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},t}(Tr),Ze=H,mr=L,St=we,di=function(a){F(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.newlineDisabled=!1,e}return t.prototype.init=function(){this.group.add(this._contentGroup=new St),this.group.add(this._selectorGroup=new St),this._isFirstRender=!0},t.prototype.getContentGroup=function(){return this._contentGroup},t.prototype.getSelectorGroup=function(){return this._selectorGroup},t.prototype.render=function(e,r,n){var i=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!e.get("show",!0)){var o=e.get("align"),s=e.get("orient");(!o||o==="auto")&&(o=e.get("left")==="right"&&s==="vertical"?"right":"left");var l=e.get("selector",!0),c=e.get("selectorPosition",!0);l&&(!c||c==="auto")&&(c=s==="horizontal"?"end":"start"),this.renderInner(o,e,r,n,l,s,c);var u=e.getBoxLayoutParams(),f={width:n.getWidth(),height:n.getHeight()},g=e.get("padding"),v=_t(u,f,g),h=this.layoutInner(e,o,v,i,l,c),d=_t(Qe({width:h.width,height:h.height},u),f,g);this.group.x=d.x-h.x,this.group.y=d.y-h.y,this.group.markRedraw(),this.group.add(this._backgroundEl=vi(h,e))}},t.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},t.prototype.renderInner=function(e,r,n,i,o,s,l){var c=this.getContentGroup(),u=Ce(),f=r.get("selectedMode"),g=[];n.eachRawSeries(function(v){!v.get("legendHoverLink")&&g.push(v.id)}),mr(r.getData(),function(v,h){var d=v.get("name");if(!this.newlineDisabled&&(d===""||d===`
`)){var p=new St;p.newline=!0,c.add(p);return}var y=n.getSeriesByName(d)[0];if(!u.get(d))if(y){var m=y.getData(),x=m.getVisual("legendLineStyle")||{},S=m.getVisual("legendIcon"),b=m.getVisual("style"),w=this._createItem(y,d,h,v,r,e,x,b,S,f,i);w.on("click",Ze(en,d,null,i,g)).on("mouseover",Ze(yr,y.name,null,i,g)).on("mouseout",Ze(xr,y.name,null,i,g)),n.ssr&&w.eachChild(function(A){var C=st(A);C.seriesIndex=y.seriesIndex,C.dataIndex=h,C.ssrType="legend"}),u.set(d,!0)}else n.eachRawSeries(function(A){if(!u.get(d)&&A.legendVisualProvider){var C=A.legendVisualProvider;if(!C.containName(d))return;var D=C.indexOfName(d),_=C.getItemVisual(D,"style"),P=C.getItemVisual(D,"legendIcon"),I=ko(_.fill);I&&I[3]===0&&(I[3]=.2,_=$($({},_),{fill:No(I,"rgba")}));var T=this._createItem(A,d,h,v,r,e,{},_,P,f,i);T.on("click",Ze(en,null,d,i,g)).on("mouseover",Ze(yr,null,d,i,g)).on("mouseout",Ze(xr,null,d,i,g)),n.ssr&&T.eachChild(function(O){var M=st(O);M.seriesIndex=A.seriesIndex,M.dataIndex=h,M.ssrType="legend"}),u.set(d,!0)}},this)},this),o&&this._createSelector(o,r,i,s,l)},t.prototype._createSelector=function(e,r,n,i,o){var s=this.getSelectorGroup();mr(e,function(c){var u=c.type,f=new ue({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){n.dispatchAction({type:u==="all"?"legendAllSelect":"legendInverseSelect",legendId:r.id})}});s.add(f);var g=r.getModel("selectorLabel"),v=r.getModel(["emphasis","selectorLabel"]);_r(f,{normal:g,emphasis:v},{defaultText:c.title}),aa(f)})},t.prototype._createItem=function(e,r,n,i,o,s,l,c,u,f,g){var v=e.visualDrawType,h=o.get("itemWidth"),d=o.get("itemHeight"),p=o.isSelected(r),y=i.get("symbolRotate"),m=i.get("symbolKeepAspect"),x=i.get("icon");u=x||u||"roundRect";var S=Au(u,i,l,c,v,p,g),b=new St,w=i.getModel("textStyle");if(Re(e.getLegendIcon)&&(!x||x==="inherit"))b.add(e.getLegendIcon({itemWidth:h,itemHeight:d,icon:u,iconRotate:y,itemStyle:S.itemStyle,lineStyle:S.lineStyle,symbolKeepAspect:m}));else{var A=x==="inherit"&&e.getData().getVisual("symbol")?y==="inherit"?e.getData().getVisual("symbolRotate"):y:0;b.add(_u({itemWidth:h,itemHeight:d,icon:u,iconRotate:A,itemStyle:S.itemStyle,lineStyle:S.lineStyle,symbolKeepAspect:m}))}var C=s==="left"?h+5:-5,D=s,_=o.get("formatter"),P=r;ee(_)&&_?P=_.replace("{name}",r!=null?r:""):Re(_)&&(P=_(r));var I=p?w.getTextColor():i.get("inactiveColor");b.add(new ue({style:at(w,{text:P,x:C,y:d/2,fill:I,align:D,verticalAlign:"middle"},{inheritColor:I})}));var T=new ke({shape:b.getBoundingRect(),style:{fill:"transparent"}}),O=i.getModel("tooltip");return O.get("show")&&_n({el:T,componentModel:o,itemName:r,itemTooltipOption:O.option}),b.add(T),b.eachChild(function(M){M.silent=!0}),T.silent=!f,this.getContentGroup().add(b),aa(b),b.__legendDataIndex=n,b},t.prototype.layoutInner=function(e,r,n,i,o,s){var l=this.getContentGroup(),c=this.getSelectorGroup();Xe(e.get("orient"),l,e.get("itemGap"),n.width,n.height);var u=l.getBoundingRect(),f=[-u.x,-u.y];if(c.markRedraw(),l.markRedraw(),o){Xe("horizontal",c,e.get("selectorItemGap",!0));var g=c.getBoundingRect(),v=[-g.x,-g.y],h=e.get("selectorButtonGap",!0),d=e.getOrient().index,p=d===0?"width":"height",y=d===0?"height":"width",m=d===0?"y":"x";s==="end"?v[d]+=u[p]+h:f[d]+=g[p]+h,v[1-d]+=u[y]/2-g[y]/2,c.x=v[0],c.y=v[1],l.x=f[0],l.y=f[1];var x={x:0,y:0};return x[p]=u[p]+h+g[p],x[y]=Math.max(u[y],g[y]),x[m]=Math.min(0,g[m]+v[1-d]),x}else return l.x=f[0],l.y=f[1],this.group.getBoundingRect()},t.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},t.type="legend.plain",t}(Pr);function Au(a,t,e,r,n,i,o){function s(p,y){p.lineWidth==="auto"&&(p.lineWidth=y.lineWidth>0?2:0),mr(p,function(m,x){p[x]==="inherit"&&(p[x]=y[x])})}var l=t.getModel("itemStyle"),c=l.getItemStyle(),u=a.lastIndexOf("empty",0)===0?"fill":"stroke",f=l.getShallow("decal");c.decal=!f||f==="inherit"?r.decal:Eo(f,o),c.fill==="inherit"&&(c.fill=r[n]),c.stroke==="inherit"&&(c.stroke=r[u]),c.opacity==="inherit"&&(c.opacity=(n==="fill"?r:e).opacity),s(c,r);var g=t.getModel("lineStyle"),v=g.getLineStyle();if(s(v,e),c.fill==="auto"&&(c.fill=r.fill),c.stroke==="auto"&&(c.stroke=r.fill),v.stroke==="auto"&&(v.stroke=r.fill),!i){var h=t.get("inactiveBorderWidth"),d=c[u];c.lineWidth=h==="auto"?r.lineWidth>0&&d?2:0:c.lineWidth,c.fill=t.get("inactiveColor"),c.stroke=t.get("inactiveBorderColor"),v.stroke=g.get("inactiveColor"),v.lineWidth=g.get("inactiveWidth")}return{itemStyle:c,lineStyle:v}}function _u(a){var t=a.icon||"roundRect",e=ar(t,0,0,a.itemWidth,a.itemHeight,a.itemStyle.fill,a.symbolKeepAspect);return e.setStyle(a.itemStyle),e.rotation=(a.iconRotate||0)*Math.PI/180,e.setOrigin([a.itemWidth/2,a.itemHeight/2]),t.indexOf("empty")>-1&&(e.style.stroke=e.style.fill,e.style.fill="#fff",e.style.lineWidth=2),e}function en(a,t,e,r){xr(a,t,e,r),e.dispatchAction({type:"legendToggleSelect",name:a!=null?a:t}),yr(a,t,e,r)}function pi(a){for(var t=a.getZr().storage.getDisplayList(),e,r=0,n=t.length;r<n&&!(e=t[r].states.emphasis);)r++;return e&&e.hoverLayer}function yr(a,t,e,r){pi(e)||e.dispatchAction({type:"highlight",seriesName:a,name:t,excludeSeriesId:r})}function xr(a,t,e,r){pi(e)||e.dispatchAction({type:"downplay",seriesName:a,name:t,excludeSeriesId:r})}function wu(a){var t=a.findComponents({mainType:"legend"});t&&t.length&&a.filterSeries(function(e){for(var r=0;r<t.length;r++)if(!t[r].isSelected(e.name))return!1;return!0})}function rt(a,t,e){var r=a==="allSelect"||a==="inverseSelect",n={},i=[];e.eachComponent({mainType:"legend",query:t},function(s){r?s[a]():s[a](t.name),tn(s,n),i.push(s.componentIndex)});var o={};return e.eachComponent("legend",function(s){L(n,function(l,c){s[l?"select":"unSelect"](c)}),tn(s,o)}),r?{selected:o,legendIndex:i}:{name:t.name,selected:o}}function tn(a,t){var e=t||{};return L(a.getData(),function(r){var n=r.get("name");if(!(n===`
`||n==="")){var i=a.isSelected(n);Vo(e,n)?e[n]=e[n]&&i:e[n]=i}}),e}function Cu(a){a.registerAction("legendToggleSelect","legendselectchanged",H(rt,"toggleSelected")),a.registerAction("legendAllSelect","legendselectall",H(rt,"allSelect")),a.registerAction("legendInverseSelect","legendinverseselect",H(rt,"inverseSelect")),a.registerAction("legendSelect","legendselected",H(rt,"select")),a.registerAction("legendUnSelect","legendunselected",H(rt,"unSelect"))}function mi(a){a.registerComponentModel(pr),a.registerComponentView(di),a.registerProcessor(a.PRIORITY.PROCESSOR.SERIES_FILTER,wu),a.registerSubTypeDefaulter("legend",function(){return"plain"}),Cu(a)}var Tu=function(a){F(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.setScrollDataIndex=function(e){this.option.scrollDataIndex=e},t.prototype.init=function(e,r,n){var i=Go(e);a.prototype.init.call(this,e,r,n),rn(this,e,i)},t.prototype.mergeOption=function(e,r){a.prototype.mergeOption.call(this,e,r),rn(this,this.option,e)},t.type="legend.scroll",t.defaultOption=vn(pr.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),t}(pr);function rn(a,t,e){var r=a.getOrient(),n=[1,1];n[r.index]=0,Bo(t,e,{type:"box",ignoreSize:!!n})}var an=we,Jt=["width","height"],Qt=["x","y"],Pu=function(a){F(t,a);function t(){var e=a!==null&&a.apply(this,arguments)||this;return e.type=t.type,e.newlineDisabled=!0,e._currentIndex=0,e}return t.prototype.init=function(){a.prototype.init.call(this),this.group.add(this._containerGroup=new an),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new an)},t.prototype.resetInner=function(){a.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},t.prototype.renderInner=function(e,r,n,i,o,s,l){var c=this;a.prototype.renderInner.call(this,e,r,n,i,o,s,l);var u=this._controllerGroup,f=r.get("pageIconSize",!0),g=he(f)?f:[f,f];h("pagePrev",0);var v=r.getModel("pageTextStyle");u.add(new ue({name:"pageText",style:{text:"xx/xx",fill:v.getTextColor(),font:v.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),h("pageNext",1);function h(d,p){var y=d+"DataIndex",m=An(r.get("pageIcons",!0)[r.getOrient().name][p],{onclick:qe(c._pageGo,c,y,r,i)},{x:-g[0]/2,y:-g[1]/2,width:g[0],height:g[1]});m.name=d,u.add(m)}},t.prototype.layoutInner=function(e,r,n,i,o,s){var l=this.getSelectorGroup(),c=e.getOrient().index,u=Jt[c],f=Qt[c],g=Jt[1-c],v=Qt[1-c];o&&Xe("horizontal",l,e.get("selectorItemGap",!0));var h=e.get("selectorButtonGap",!0),d=l.getBoundingRect(),p=[-d.x,-d.y],y=ve(n);o&&(y[u]=n[u]-d[u]-h);var m=this._layoutContentAndController(e,i,y,c,u,g,v,f);if(o){if(s==="end")p[c]+=m[u]+h;else{var x=d[u]+h;p[c]-=x,m[f]-=x}m[u]+=d[u]+h,p[1-c]+=m[v]+m[g]/2-d[g]/2,m[g]=Math.max(m[g],d[g]),m[v]=Math.min(m[v],d[v]+p[1-c]),l.x=p[0],l.y=p[1],l.markRedraw()}return m},t.prototype._layoutContentAndController=function(e,r,n,i,o,s,l,c){var u=this.getContentGroup(),f=this._containerGroup,g=this._controllerGroup;Xe(e.get("orient"),u,e.get("itemGap"),i?n.width:null,i?null:n.height),Xe("horizontal",g,e.get("pageButtonItemGap",!0));var v=u.getBoundingRect(),h=g.getBoundingRect(),d=this._showController=v[o]>n[o],p=[-v.x,-v.y];r||(p[i]=u[c]);var y=[0,0],m=[-h.x,-h.y],x=ye(e.get("pageButtonGap",!0),e.get("itemGap",!0));if(d){var S=e.get("pageButtonPosition",!0);S==="end"?m[i]+=n[o]-h[o]:y[i]+=h[o]+x}m[1-i]+=v[s]/2-h[s]/2,u.setPosition(p),f.setPosition(y),g.setPosition(m);var b={x:0,y:0};if(b[o]=d?n[o]:v[o],b[s]=Math.max(v[s],h[s]),b[l]=Math.min(0,h[l]+m[1-i]),f.__rectSize=n[o],d){var w={x:0,y:0};w[o]=Math.max(n[o]-h[o]-x,0),w[s]=b[s],f.setClipPath(new ke({shape:w})),f.__rectSize=w[o]}else g.eachChild(function(C){C.attr({invisible:!0,silent:!0})});var A=this._getPageInfo(e);return A.pageIndex!=null&&ge(u,{x:A.contentPosition[0],y:A.contentPosition[1]},d?e:null),this._updatePageInfoView(e,A),b},t.prototype._pageGo=function(e,r,n){var i=this._getPageInfo(r)[e];i!=null&&n.dispatchAction({type:"legendScroll",scrollDataIndex:i,legendId:r.id})},t.prototype._updatePageInfoView=function(e,r){var n=this._controllerGroup;L(["pagePrev","pageNext"],function(u){var f=u+"DataIndex",g=r[f]!=null,v=n.childOfName(u);v&&(v.setStyle("fill",g?e.get("pageIconColor",!0):e.get("pageIconInactiveColor",!0)),v.cursor=g?"pointer":"default")});var i=n.childOfName("pageText"),o=e.get("pageFormatter"),s=r.pageIndex,l=s!=null?s+1:0,c=r.pageCount;i&&o&&i.setStyle("text",ee(o)?o.replace("{current}",l==null?"":l+"").replace("{total}",c==null?"":c+""):o({current:l,total:c}))},t.prototype._getPageInfo=function(e){var r=e.get("scrollDataIndex",!0),n=this.getContentGroup(),i=this._containerGroup.__rectSize,o=e.getOrient().index,s=Jt[o],l=Qt[o],c=this._findTargetItemIndex(r),u=n.children(),f=u[c],g=u.length,v=g?1:0,h={contentPosition:[n.x,n.y],pageCount:v,pageIndex:v-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!f)return h;var d=S(f);h.contentPosition[o]=-d.s;for(var p=c+1,y=d,m=d,x=null;p<=g;++p)x=S(u[p]),(!x&&m.e>y.s+i||x&&!b(x,y.s))&&(m.i>y.i?y=m:y=x,y&&(h.pageNextDataIndex==null&&(h.pageNextDataIndex=y.i),++h.pageCount)),m=x;for(var p=c-1,y=d,m=d,x=null;p>=-1;--p)x=S(u[p]),(!x||!b(m,x.s))&&y.i<m.i&&(m=y,h.pagePrevDataIndex==null&&(h.pagePrevDataIndex=y.i),++h.pageCount,++h.pageIndex),y=x;return h;function S(w){if(w){var A=w.getBoundingRect(),C=A[l]+w[l];return{s:C,e:C+A[s],i:w.__legendDataIndex}}}function b(w,A){return w.e>=A&&w.s<=A+i}},t.prototype._findTargetItemIndex=function(e){if(!this._showController)return 0;var r,n=this.getContentGroup(),i;return n.eachChild(function(o,s){var l=o.__legendDataIndex;i==null&&l!=null&&(i=s),l===e&&(r=s)}),r!=null?r:i},t.type="legend.scroll",t}(di);function Du(a){a.registerAction("legendScroll","legendscroll",function(t,e){var r=t.scrollDataIndex;r!=null&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},function(n){n.setScrollDataIndex(r)})})}function Lu(a){Ct(mi),a.registerComponentModel(Tu),a.registerComponentView(Pu),Du(a)}function Fu(a){Ct(mi),Ct(Lu)}export{Ul as A,Sl as B,Oe as C,Nl as D,Eu as G,qs as L,ie as T,Ou as a,ol as b,$n as c,ks as d,Kn as e,Il as f,Us as g,Ml as h,Gu as i,sr as j,it as k,Ia as l,Ll as m,gi as n,rl as o,Vu as p,Iu as q,tt as r,Ws as s,ku as t,Ru as u,zu as v,Fu as w,Nu as x,Bu as y,Vl as z};
