var S=(o,t,c)=>new Promise((n,d)=>{var l=r=>{try{h(c.next(r))}catch(a){d(a)}},p=r=>{try{h(c.throw(r))}catch(a){d(a)}},h=r=>r.done?n(r.value):Promise.resolve(r.value).then(l,p);h((c=c.apply(o,t)).next())});import{j as e,R as v,a as E,b as T}from"./index-PxvmJQiF.js";import{u as _}from"./useAuthRedirect-Q77r8z1o.js";import{r as i,u as z}from"./react-BIszHAjf.js";import{B as m,f as W}from"./api-D3_pi1F0.js";import{f as k,a as A,b as R,c as F}from"./api-CtcXR4OC.js";import{h as g,j as f,k as s,x as L,y as b,z as D,E as N,v as w,P as H,G as $,B as M}from"./antd-CcxI5lPu.js";import{F as I,a as O,b as P}from"./index-ChQVlTd2.js";import{R as C}from"./index-C9Ua6mEm.js";import{A as U}from"./index-DsO2pSoJ.js";import"./fetchHelper-DxCwzP8L.js";import"./iconBase-DmfS09tz.js";const G=({poolType:o})=>{const[t,c]=i.useState(null),[n,d]=i.useState(!0),[l]=i.useState(null),p=z(),h=()=>{p(v.profitDetail)},r=a=>S(void 0,null,function*(){try{const y=yield k(a);c(y.data)}catch(y){}finally{d(!1)}});return i.useEffect(()=>{r(o)},[o]),l?e.jsx("div",{children:l}):e.jsxs("div",{children:[e.jsx(g,{title:"效益",loading:n,bordered:!1,className:"card-wapper",extra:e.jsx("span",{onClick:h,style:{cursor:"pointer",display:"flex",alignItems:"center",fontSize:"18px",color:"#1890ff",transition:"color 0.3s ease"},onMouseEnter:a=>a.currentTarget.style.color="#40a9ff",onMouseLeave:a=>a.currentTarget.style.color="#1890ff",children:e.jsx(m,{style:{marginLeft:"8px"}})}),children:e.jsx(f,{gutter:24,children:e.jsx(s,{span:24,children:e.jsx(L,{title:"昨日总收益",value:t==null?void 0:t.last_day_income_statistics.income_btc,valueStyle:{color:"green",fontSize:"20px",fontWeight:"bold"},suffix:"BTC"})})})}),e.jsx(g,{title:"电费占比",loading:n,bordered:!1,className:"card-wapper",extra:e.jsx("span",{onClick:h,style:{cursor:"pointer",display:"flex",alignItems:"center",fontSize:"18px",color:"#1890ff",transition:"color 0.3s ease"},onMouseEnter:a=>a.currentTarget.style.color="#40a9ff",onMouseLeave:a=>a.currentTarget.style.color="#1890ff",children:e.jsx(m,{style:{marginLeft:"8px"}})}),children:e.jsxs(f,{gutter:24,children:[e.jsx(s,{span:8,style:{borderLeft:"1px solid #f0f0f0",paddingLeft:"16px"},children:e.jsx(L,{title:"昨日电费占比",value:t==null?void 0:t.last_day_hosting_fee_ratio,valueStyle:{fontSize:"14px",fontWeight:"bold"}})}),e.jsx(s,{span:8,style:{borderLeft:"1px solid #f0f0f0",paddingLeft:"16px"},children:e.jsx(L,{title:"近14天电费占比",value:t==null?void 0:t.last_2week_hosting_fee_ratio,valueStyle:{fontSize:"14px",fontWeight:"bold"}})}),e.jsx(s,{span:8,style:{borderLeft:"1px solid #f0f0f0",paddingLeft:"16px"},children:e.jsx(L,{title:`${t==null?void 0:t.month}月电费占比`,value:t==null?void 0:t.month_hosting_fee_ratio,valueStyle:{fontSize:"14px",fontWeight:"bold"}})})]})})]})},Y=({poolType:o})=>{const[t,c]=i.useState(null),[n,d]=i.useState(!0),[l]=i.useState(null),p=z(),h=()=>{p(v.profitDetail)},r=a=>S(void 0,null,function*(){try{const y=yield k(a);c(y.data)}catch(y){}finally{d(!1)}});return i.useEffect(()=>{r(o)},[o]),l?e.jsx("div",{children:l}):e.jsxs("div",{children:[e.jsx(g,{title:"产出数量",loading:n,bordered:!1,className:"card-wapper",extra:e.jsx("span",{onClick:h,style:{cursor:"pointer",display:"flex",alignItems:"center",fontSize:"18px",color:"#1890ff",transition:"color 0.3s ease"},onMouseEnter:a=>a.currentTarget.style.color="#40a9ff",onMouseLeave:a=>a.currentTarget.style.color="#1890ff",children:e.jsx(m,{style:{marginLeft:"8px"}})}),children:e.jsx(f,{gutter:24,children:e.jsx(s,{span:24,style:{borderLeft:"1px solid #f0f0f0",paddingLeft:"16px"},children:e.jsxs(f,{gutter:24,children:[e.jsx(s,{span:10,children:e.jsx(s,{span:24,style:{fontSize:"14px",color:"gray",marginBottom:"12px"},children:`${t==null?void 0:t.month}月产出数量`})}),e.jsx(s,{span:14,children:e.jsx(s,{span:24,style:{fontSize:"14px",color:"black",marginBottom:"12px",fontWeight:"bold"},children:`${t==null?void 0:t.month_statistics.income_btc} BTC`})})]})})})}),e.jsx(g,{title:"产出价值",loading:n,bordered:!1,className:"card-wapper",extra:e.jsx("span",{onClick:h,style:{cursor:"pointer",display:"flex",alignItems:"center",fontSize:"18px",color:"#1890ff",transition:"color 0.3s ease"},onMouseEnter:a=>a.currentTarget.style.color="#40a9ff",onMouseLeave:a=>a.currentTarget.style.color="#1890ff",children:e.jsx(m,{style:{marginLeft:"8px"}})}),children:e.jsx(f,{gutter:24,children:e.jsx(s,{span:24,style:{borderLeft:"1px solid #f0f0f0",paddingLeft:"16px"},children:e.jsx(f,{gutter:24,children:e.jsxs(s,{span:24,children:[e.jsxs(s,{span:24,style:{fontSize:"14px",color:"black",marginBottom:"12px",fontWeight:"bold"},children:[`${t==null?void 0:t.month}月产出价值`,"："," ",`${t==null?void 0:t.month_statistics.income_usd} $`]}),e.jsxs(s,{span:24,style:{fontSize:"14px",color:"black",marginBottom:"12px",fontWeight:"bold"},children:[`${t==null?void 0:t.month}月托管+运维`,"："," ",`${t==null?void 0:t.month_statistics.hosting_fee} $`]})]})})})})})]})},q=({poolType:o})=>{const[t,c]=i.useState([]),[n,d]=i.useState("30"),l=r=>S(void 0,null,function*(){try{const x=(yield W(o,r)).data.map(u=>({time:u.time,income_usd:u.income_usd,hosting_fee:u.hosting_fee,fee_percentage:u.fee_percentage})).sort((u,j)=>new Date(u.time)-new Date(j.time));c(x),c(x)}catch(a){console.error("Error fetching hash rate efficiency:",a)}});i.useEffect(()=>{l(n)},[o]);const p=()=>{const r=t.map(u=>u.time),a=t.map(u=>u.income_usd),y=t.map(u=>u.hosting_fee),x=t.map(u=>u.fee_percentage);return{tooltip:{trigger:"axis"},grid:{top:"5%",right:"5%",bottom:"12%",left:"10%"},xAxis:{type:"category",data:r,axisLine:{lineStyle:{color:"#ccc"}}},yAxis:[{type:"value",name:"收入/托管费",min:0,splitLine:{show:!1}},{type:"value",name:"费用百分比 (%)",min:0,max:100,splitLine:{show:!1},position:"right"}],series:[{name:"收入(USD)",type:"line",data:a,smooth:!0,itemStyle:{color:"#4b9bdc"},lineStyle:{width:1.5},showSymbol:!1},{name:"托管费",type:"line",data:y,smooth:!0,itemStyle:{color:"#ff6f61"},lineStyle:{width:1.5},showSymbol:!1},{name:"费用百分比",type:"line",yAxisIndex:1,data:x,smooth:!0,itemStyle:{color:"#f0ad4e"},lineStyle:{width:1.5},showSymbol:!1}]}},h=r=>{const a=r.target.value;d(a),l(a)};return e.jsx(g,{bordered:!1,className:"card-wapper",size:"small",title:e.jsxs(f,{align:"middle",children:[e.jsx(s,{children:e.jsx(I,{style:{fontSize:"20px",marginRight:"5px"}})}),e.jsx(s,{children:e.jsx("h3",{style:{marginLeft:5,fontSize:"14px"},children:"收益+支出"})})]}),extra:e.jsxs(b.Group,{value:n,onChange:h,style:{fontSize:"10px"},size:"small",children:[e.jsx(b.Button,{value:"7",className:`radio-button ${n==="7"?"active":""}`,children:"7天"}),e.jsx(b.Button,{value:"30",className:`radio-button ${n==="30"?"active":""}`,children:"30天"}),e.jsx(b.Button,{value:"90",className:`radio-button ${n==="90"?"active":""}`,children:"90天"})]}),children:e.jsx(C,{option:p(),style:{height:310}})})},J=({poolType:o})=>{const[t,c]=i.useState([]),[n,d]=i.useState("90"),l=r=>S(void 0,null,function*(){var a;try{const u=((a=(yield A(o,r)).data)==null?void 0:a.map(j=>({date:j.date,efficiency:j.efficiency}))).sort((j,B)=>new Date(j.date)-new Date(B.date));c(u)}catch(y){console.error("Error fetching hash rate efficiency:",y)}});i.useEffect(()=>{l(n)},[o]);const p=()=>{const r=t.map(y=>y.date),a=t.map(y=>y.efficiency);return{tooltip:{trigger:"axis"},grid:{top:"5%",right:"5%",bottom:"12%",left:"5%"},xAxis:{type:"category",data:r,axisLine:{lineStyle:{color:"#ccc"}}},yAxis:{type:"value",min:70,splitLine:{show:!1}},series:[{type:"line",data:a,smooth:!0,itemStyle:{color:"#4b9bdc"},lineStyle:{width:1.5},showSymbol:!1}]}},h=r=>{const a=r.target.value;d(a),l(a)};return e.jsx(g,{bordered:!1,className:"card-wapper",size:"small",title:e.jsxs(f,{align:"middle",children:[e.jsx(s,{children:e.jsx(O,{style:{fontSize:"20px",marginRight:"5px"}})}),e.jsx(s,{children:e.jsx("h3",{style:{marginLeft:5,fontSize:"14px"},children:"算力达成率"})})]}),extra:e.jsxs(b.Group,{value:n,onChange:h,style:{fontSize:"10px"},size:"small",children:[e.jsx(b.Button,{value:"7",className:`radio-button ${n==="7"?"active":""}`,children:"7天"}),e.jsx(b.Button,{value:"30",className:`radio-button ${n==="30"?"active":""}`,children:"30天"}),e.jsx(b.Button,{value:"90",className:`radio-button ${n==="90"?"active":""}`,children:"90天"})]}),children:e.jsx(C,{option:p(),style:{height:435}})})},K=({poolType:o})=>{const[t,c]=i.useState(null),[n,d]=i.useState(!0),[l]=i.useState(null),p=()=>{},h=r=>S(void 0,null,function*(){try{c(r==="NS"?{currentOnlineCount:69836,totalFaultsCount:12070,yesterdayPowerCutDuration:1.5,lastWeekPowerCutDuration:10,lastMonthPowerCutDuration:28,yesterdayFaultsCount:49,lastWeekFaultsCount:320,lastMonthFaultsCount:1902,yesterdayFailureRate:.79,lastWeekFailureRate:1.07,lastMonthFailureRate:7.13}:{currentOnlineCount:88196,totalFaultsCount:8837,yesterdayPowerCutDuration:1,lastWeekPowerCutDuration:8,lastMonthPowerCutDuration:25,yesterdayFaultsCount:46,lastWeekFaultsCount:290,lastMonthFaultsCount:1804,yesterdayFailureRate:.76,lastWeekFailureRate:1.27,lastMonthFailureRate:6.13})}finally{d(!1)}});return i.useEffect(()=>{h(o)},[o]),l?e.jsx("div",{children:l}):e.jsxs("div",{children:[e.jsx(g,{title:"运维",loading:n,bordered:!1,className:"card-wapper",extra:e.jsx("span",{onClick:p,style:{cursor:"pointer",display:"flex",alignItems:"center",fontSize:"18px",color:"#1890ff",transition:"color 0.3s ease"},onMouseEnter:r=>r.currentTarget.style.color="#40a9ff",onMouseLeave:r=>r.currentTarget.style.color="#1890ff",children:e.jsx(m,{style:{marginLeft:"8px"}})}),children:e.jsx(f,{gutter:24,children:e.jsx(s,{span:24,children:e.jsx(L,{title:"当前在线数 / 累计故障下架总数",valueStyle:{color:"green",fontSize:"20px",fontWeight:"bold"},valueRender:()=>e.jsxs("span",{style:{display:"flex",alignItems:"baseline"},children:[e.jsx("span",{style:{color:"green",fontWeight:"bold",fontSize:"20px"},children:t==null?void 0:t.currentOnlineCount}),e.jsx("span",{style:{margin:"0 8px"},children:" / "}),e.jsx("span",{style:{color:"red",fontWeight:"bold",fontSize:"20px"},children:t==null?void 0:t.totalFaultsCount})]})})})})}),e.jsx(g,{title:"运维",loading:n,bordered:!1,className:"card-wapper",extra:e.jsx("span",{onClick:p,style:{cursor:"pointer",display:"flex",alignItems:"center",fontSize:"18px",color:"#1890ff",transition:"color 0.3s ease"},onMouseEnter:r=>r.currentTarget.style.color="#40a9ff",onMouseLeave:r=>r.currentTarget.style.color="#1890ff",children:e.jsx(m,{style:{marginLeft:"8px"}})}),children:e.jsxs(f,{gutter:24,children:[e.jsx(s,{span:8,style:{borderLeft:"1px solid #f0f0f0",paddingLeft:"16px"},children:e.jsxs(f,{gutter:24,children:[e.jsxs(s,{span:24,style:{fontSize:"14px",color:"gray",marginBottom:"12px"},children:[e.jsx("span",{style:{fontSize:"14px",color:"gray"},children:"昨日故障数"}),e.jsxs("span",{style:{fontSize:"14px",color:"black",marginLeft:"10px"},children:[t==null?void 0:t.yesterdayFaultsCount," 台"]})]}),e.jsxs(s,{span:24,style:{fontSize:"14px",color:"gray",marginBottom:"12px"},children:[e.jsx("span",{style:{fontSize:"14px",color:"gray"},children:"折合年维修率"}),e.jsxs("span",{style:{fontSize:"14px",color:"black",marginLeft:"10px"},children:[t==null?void 0:t.yesterdayFailureRate,"%"]})]})]})}),e.jsx(s,{span:8,style:{borderLeft:"1px solid #f0f0f0",paddingLeft:"16px"},children:e.jsxs(f,{gutter:24,children:[e.jsxs(s,{span:24,style:{fontSize:"14px",color:"gray",marginBottom:"12px"},children:[e.jsx("span",{style:{fontSize:"14px",color:"gray"},children:"近一周故障数"}),e.jsxs("span",{style:{fontSize:"14px",color:"black",marginLeft:"10px"},children:[t==null?void 0:t.lastWeekFaultsCount,"台"]})]}),e.jsxs(s,{span:24,style:{fontSize:"14px",color:"gray",marginBottom:"12px"},children:[e.jsx("span",{style:{fontSize:"14px",color:"gray"},children:"折合年维修率"}),e.jsxs("span",{style:{fontSize:"14px",color:"black",marginLeft:"10px"},children:[t==null?void 0:t.lastWeekFailureRate,"%"]})]})]})}),e.jsx(s,{span:8,style:{borderLeft:"1px solid #f0f0f0",paddingLeft:"16px"},children:e.jsxs(f,{gutter:24,children:[e.jsxs(s,{span:24,style:{fontSize:"14px",color:"gray",marginBottom:"12px"},children:[e.jsx("span",{style:{fontSize:"14px",color:"gray"},children:"近一月故障数"}),e.jsxs("span",{style:{fontSize:"14px",color:"black",marginLeft:"10px"},children:[t==null?void 0:t.lastMonthFaultsCount," 台"]})]}),e.jsxs(s,{span:24,style:{fontSize:"14px",color:"gray",marginBottom:"12px"},children:[e.jsx("span",{style:{fontSize:"14px",color:"gray"},children:"折合年维修率"}),e.jsxs("span",{style:{fontSize:"14px",color:"black",marginLeft:"10px"},children:[t==null?void 0:t.lastMonthFailureRate,"%"]})]})]})})]})})]})},Q=({poolType:o})=>{const[t,c]=i.useState(null),[n,d]=i.useState(!0),[l]=i.useState(null),p=()=>{},h=r=>S(void 0,null,function*(){try{c(r==="NS"?{currentOnlineCount:69836,totalFaultsCount:12070,yesterdayPowerCutDuration:1.5,lastWeekPowerCutDuration:10,lastMonthPowerCutDuration:28,yesterdayFaultsCount:49,lastWeekFaultsCount:320,lastMonthFaultsCount:1902,yesterdayFailureRate:.79,lastWeekFailureRate:1.07,lastMonthFailureRate:7.13}:{currentOnlineCount:88196,totalFaultsCount:8837,yesterdayPowerCutDuration:1,lastWeekPowerCutDuration:8,lastMonthPowerCutDuration:25,yesterdayFaultsCount:46,lastWeekFaultsCount:290,lastMonthFaultsCount:1804,yesterdayFailureRate:.76,lastWeekFailureRate:1.27,lastMonthFailureRate:6.13})}finally{d(!1)}});return i.useEffect(()=>{h(o)},[o]),l?e.jsx("div",{children:l}):e.jsxs("div",{children:[e.jsx(g,{title:"限电时长",loading:n,bordered:!1,className:"card-wapper",extra:e.jsx("span",{onClick:p,style:{cursor:"pointer",display:"flex",alignItems:"center",fontSize:"18px",color:"#1890ff",transition:"color 0.3s ease"},onMouseEnter:r=>r.currentTarget.style.color="#40a9ff",onMouseLeave:r=>r.currentTarget.style.color="#1890ff",children:e.jsx(m,{style:{marginLeft:"8px"}})}),children:e.jsx(f,{gutter:24,children:e.jsx(s,{span:24,style:{borderLeft:"1px solid #f0f0f0",paddingLeft:"16px"},children:e.jsxs(f,{gutter:24,children:[e.jsxs(s,{span:10,children:[e.jsx(s,{span:24,style:{fontSize:"14px",color:"gray",marginBottom:"12px"},children:"昨日"}),e.jsx(s,{span:24,style:{fontSize:"14px",color:"gray",marginBottom:"12px"},children:"上周"}),e.jsx(s,{span:24,style:{fontSize:"14px",color:"gray",marginBottom:"12px"},children:"上月"})]}),e.jsxs(s,{span:14,children:[e.jsx(s,{span:24,style:{fontSize:"14px",color:"black",marginBottom:"12px"},children:"1.5 小时"}),e.jsx(s,{span:24,style:{fontSize:"14px",color:"black",marginBottom:"12px"},children:"10 小时"}),e.jsx(s,{span:24,style:{fontSize:"14px",color:"black",marginBottom:"12px"},children:"28 小时"})]})]})})})}),e.jsx(g,{title:"待定",loading:n,bordered:!1,className:"card-wapper",extra:e.jsx("span",{onClick:p,style:{cursor:"pointer",display:"flex",alignItems:"center",fontSize:"18px",color:"#1890ff",transition:"color 0.3s ease"},onMouseEnter:r=>r.currentTarget.style.color="#40a9ff",onMouseLeave:r=>r.currentTarget.style.color="#1890ff",children:e.jsx(m,{style:{marginLeft:"8px"}})}),children:e.jsxs(f,{gutter:24,children:[e.jsx(s,{span:8,style:{borderLeft:"1px solid #f0f0f0",paddingLeft:"16px"},children:e.jsxs(f,{gutter:24,children:[e.jsxs(s,{span:24,style:{fontSize:"14px",color:"gray",marginBottom:"12px"},children:[e.jsx("span",{style:{fontSize:"14px",color:"gray"},children:"昨日故障数"}),e.jsxs("span",{style:{fontSize:"14px",color:"black",marginLeft:"10px"},children:[t==null?void 0:t.yesterdayFaultsCount," 台"]})]}),e.jsxs(s,{span:24,style:{fontSize:"14px",color:"gray",marginBottom:"12px"},children:[e.jsx("span",{style:{fontSize:"14px",color:"gray"},children:"折合年维修率"}),e.jsxs("span",{style:{fontSize:"14px",color:"black",marginLeft:"10px"},children:[t==null?void 0:t.yesterdayFailureRate,"%"]})]})]})}),e.jsx(s,{span:8,style:{borderLeft:"1px solid #f0f0f0",paddingLeft:"16px"},children:e.jsxs(f,{gutter:24,children:[e.jsxs(s,{span:24,style:{fontSize:"14px",color:"gray",marginBottom:"12px"},children:[e.jsx("span",{style:{fontSize:"14px",color:"gray"},children:"近一周故障数"}),e.jsxs("span",{style:{fontSize:"14px",color:"black",marginLeft:"10px"},children:[t==null?void 0:t.lastWeekFaultsCount,"台"]})]}),e.jsxs(s,{span:24,style:{fontSize:"14px",color:"gray",marginBottom:"12px"},children:[e.jsx("span",{style:{fontSize:"14px",color:"gray"},children:"折合年维修率"}),e.jsxs("span",{style:{fontSize:"14px",color:"black",marginLeft:"10px"},children:[t==null?void 0:t.lastWeekFailureRate,"%"]})]})]})}),e.jsx(s,{span:8,style:{borderLeft:"1px solid #f0f0f0",paddingLeft:"16px"},children:e.jsxs(f,{gutter:24,children:[e.jsxs(s,{span:24,style:{fontSize:"14px",color:"gray",marginBottom:"12px"},children:[e.jsx("span",{style:{fontSize:"14px",color:"gray"},children:"近一月故障数"}),e.jsxs("span",{style:{fontSize:"14px",color:"black",marginLeft:"10px"},children:[t==null?void 0:t.lastMonthFaultsCount," 台"]})]}),e.jsxs(s,{span:24,style:{fontSize:"14px",color:"gray",marginBottom:"12px"},children:[e.jsx("span",{style:{fontSize:"14px",color:"gray"},children:"折合年维修率"}),e.jsxs("span",{style:{fontSize:"14px",color:"black",marginLeft:"10px"},children:[t==null?void 0:t.lastMonthFailureRate,"%"]})]})]})})]})})]})},V={"0%":"#108ee9","100%":"#87d068"},X=({poolType:o})=>{const[t,c]=i.useState(null),[n,d]=i.useState(null),[l,p]=i.useState(!0),[h]=i.useState(null),r=z(),a=()=>{r(v.hashDetail)},y=x=>S(void 0,null,function*(){try{const u=yield R(x);c(u.data);const j=yield F(x);d(j.data)}catch(u){d({last24HourEfficiency:"N/A",lastWeekEfficiency:"N/A",lastMonth:"N/A",lastMonthEfficiency:"N/A",last2Month:"N/A",last2MonthEfficiency:"N/A"}),c({totalCurrentHashRate:0,totalMasterCurrentHashrate:0,totalBackUpCurrentHashrate:0,realTimeHashEfficiency:"N/A"})}finally{p(!1)}});return i.useEffect(()=>{y(o)},[o]),h?e.jsx("div",{children:h}):e.jsxs("div",{children:[e.jsx(g,{title:"实时总算力",loading:l,bordered:!1,className:"card-wapper",extra:e.jsx("span",{onClick:a,style:{cursor:"pointer",display:"flex",alignItems:"center",fontSize:"18px",color:"#1890ff",transition:"color 0.3s ease"},onMouseEnter:x=>x.currentTarget.style.color="#40a9ff",onMouseLeave:x=>x.currentTarget.style.color="#1890ff",children:e.jsx(m,{style:{marginLeft:"8px"}})}),children:e.jsx(f,{gutter:24,children:e.jsxs(s,{span:24,children:[e.jsx(L,{value:t==null?void 0:t.totalCurrentHashRate,valueStyle:{fontSize:"2.5rem",color:"#071437",fontWeight:"600"}}),e.jsxs("span",{className:"fs-6 text-gray-500 fw-semibold",children:["实时总算力(PH/s)"," ",e.jsx(D,{title:e.jsxs(e.Fragment,{children:["主矿池算力: ",t==null?void 0:t.totalMasterCurrentHashrate," PH/s",e.jsx("br",{}),"备用矿池算力: ",t==null?void 0:t.totalBackUpCurrentHashrate," PH/s"]}),children:e.jsx(N,{style:{cursor:"pointer"}})})]})]})})}),e.jsx(g,{title:"算力达成率",loading:l,bordered:!1,className:"card-wapper",extra:e.jsx("span",{onClick:a,style:{cursor:"pointer",display:"flex",alignItems:"center",fontSize:"18px",color:"#1890ff",transition:"color 0.3s ease"},onMouseEnter:x=>x.currentTarget.style.color="#40a9ff",onMouseLeave:x=>x.currentTarget.style.color="#1890ff",children:e.jsx(m,{style:{marginLeft:"8px"}})}),children:e.jsx(f,{gutter:16,children:e.jsx(s,{span:24,children:e.jsx(w,{gap:"middle",vertical:!0,children:[{title:"24小时",desc:"平均算力达成率",value:n==null?void 0:n.last24HourEfficiency},{title:"近一周",desc:"平均算力达成率",value:n==null?void 0:n.lastWeekEfficiency},{title:`${n==null?void 0:n.lastMonth}月`,desc:"平均算力达成率",value:n==null?void 0:n.lastMonthEfficiency},{title:`${n==null?void 0:n.last2Month}月`,desc:"平均算力达成率",value:n==null?void 0:n.last2MonthEfficiency}].map((x,u)=>e.jsxs(w,{justify:"space-between",align:"center",style:{borderBottom:"dashed 1px #f0f0f0"},children:[e.jsx("div",{style:{width:"60px"},children:e.jsx("div",{className:"text-gray-800 fs-5 ",children:x.title})}),e.jsx(H,{percent:Number(x.value)||0,status:"active",strokeColor:V,style:{flex:1}})]},u))})})})})]})},Z=({poolType:o})=>{const[t,c]=i.useState(null),[n]=i.useState(null),[d,l]=i.useState(!0),[p]=i.useState(null),h=z(),r=()=>{h(v.hashDetail)},a=x=>S(void 0,null,function*(){try{const u=yield R(x);c(u.data);const j=yield F(x);n(j.data)}catch(u){n({last24HourEfficiency:"N/A",lastWeekEfficiency:"N/A",lastMonth:"N/A",lastMonthEfficiency:"N/A",last2Month:"N/A",last2MonthEfficiency:"N/A"}),c({totalCurrentHashRate:0,totalMasterCurrentHashrate:0,totalBackUpCurrentHashrate:0,realTimeHashEfficiency:"N/A"})}finally{l(!1)}}),y=x=>({series:[{type:"gauge",progress:{show:!0,width:18},axisLine:{lineStyle:{width:18}},axisTick:{show:!1},splitLine:{length:15,lineStyle:{width:2,color:"#999"}},axisLabel:{distance:25,color:"#999",fontSize:20},anchor:{show:!0,showAbove:!0,size:25,itemStyle:{borderWidth:10}},title:{show:!1},detail:{valueAnimation:!0,fontSize:16,offsetCenter:[0,x]},data:[{value:x}]}]});return i.useEffect(()=>{a(o)},[o]),p?e.jsx("div",{children:p}):e.jsxs("div",{children:[e.jsx(g,{title:"理论算力",loading:d,bordered:!1,className:"card-wapper",extra:e.jsx("span",{onClick:r,style:{cursor:"pointer",display:"flex",alignItems:"center",fontSize:"18px",color:"#1890ff",transition:"color 0.3s ease"},onMouseEnter:x=>x.currentTarget.style.color="#40a9ff",onMouseLeave:x=>x.currentTarget.style.color="#1890ff",children:e.jsx(m,{style:{marginLeft:"8px"}})}),children:e.jsx(f,{gutter:24,children:e.jsxs(s,{span:24,children:[e.jsx(L,{value:t==null?void 0:t.totalCurrentHashRate,valueStyle:{fontSize:"2.5rem",color:"#071437",fontWeight:"600"}}),e.jsxs("span",{className:"fs-6 text-gray-500 fw-semibold",children:["理论总算力(PH/s)"," ",e.jsx(D,{title:e.jsxs(e.Fragment,{children:["主矿池算力: ",t==null?void 0:t.totalMasterCurrentHashrate," PH/s",e.jsx("br",{}),"备用矿池算力: ",t==null?void 0:t.totalBackUpCurrentHashrate," PH/s"]}),children:e.jsx(N,{style:{cursor:"pointer"}})})]})]})})}),e.jsx(g,{title:"实时算力达成率",children:e.jsx(f,{gutter:24,children:e.jsx(s,{span:24,children:e.jsx(C,{option:y(t==null?void 0:t.realTimeHashEfficiency),style:{height:160}})})})})]})},ee=()=>{const t=(()=>{const n=[],d=new Date;for(let l=0;l<30;l++){const p=new Date(d);p.setDate(d.getDate()-l);const h=Math.floor(Math.random()*11);n.push({date:p.toISOString().split("T")[0],limitationRate:h})}return n.reverse()})(),c=()=>{const n=t.map(l=>l.date),d=t.map(l=>l.limitationRate);return{tooltip:{trigger:"axis"},grid:{top:"5%",right:"5%",bottom:"12%",left:"5%"},xAxis:{type:"category",data:n,axisLine:{lineStyle:{color:"#ccc"}}},yAxis:{type:"value",min:0,max:10,splitLine:{show:!1}},series:[{type:"line",data:d,smooth:!0,itemStyle:{color:"#4799dd"},lineStyle:{width:1.5},showSymbol:!1}]}};return e.jsx(g,{bordered:!1,style:{border:"none"},size:"small",title:e.jsxs(f,{align:"middle",children:[e.jsxs(s,{children:[e.jsx(U,{style:{fontSize:"20px",marginRight:"5px"}})," "]}),e.jsx(s,{children:e.jsx("h3",{style:{marginLeft:5,fontSize:"14px"},children:"限电率曲线"})})]}),children:e.jsx(C,{option:c(),style:{height:180}})})},te=()=>{const t=(()=>{const n=[],d=new Date;for(let l=0;l<30;l++){const p=new Date(d);p.setDate(d.getDate()-l);const h=Math.floor(Math.random()*41)+30;n.push({date:p.toISOString().split("T")[0],repairNum:h})}return n.reverse()})(),c=()=>{const n=t.map(l=>l.date),d=t.map(l=>l.repairNum);return{tooltip:{trigger:"axis"},grid:{top:"5%",right:"5%",bottom:"12%",left:"5%"},xAxis:{type:"category",data:n,axisLine:{lineStyle:{color:"#ccc"}}},yAxis:{type:"value",min:20,splitLine:{show:!1}},series:[{type:"line",data:d,smooth:!0,itemStyle:{color:"#87CEEB"},lineStyle:{width:1.5},showSymbol:!1}]}};return e.jsx(g,{bordered:!1,style:{border:"none"},size:"small",title:e.jsxs(f,{align:"middle",children:[e.jsx(s,{children:e.jsx(P,{style:{fontSize:"20px",marginRight:"5px"}})}),e.jsx(s,{children:e.jsx("h3",{style:{marginLeft:5,fontSize:"14px"},children:"维修态曲线"})})]}),children:e.jsx(C,{option:c(),style:{height:180}})})},se=()=>{const[o,t]=i.useState("tab1");return e.jsx("div",{style:{padding:0},children:e.jsxs(g,{style:{marginTop:0},children:[e.jsxs($,{children:[e.jsx(M,{type:o==="tab1"?"primary":"default",onClick:()=>t("tab1"),children:"维修态曲线"}),e.jsx(M,{type:o==="tab2"?"primary":"default",onClick:()=>t("tab2"),children:"限电率曲线"})]}),e.jsxs(g,{style:{marginTop:20},children:[o==="tab1"&&e.jsx(te,{}),o==="tab2"&&e.jsx(ee,{})]})]})})};function ue(){_();const{poolType:o}=E(T(["poolType"]));return e.jsxs("div",{style:{backgroundColor:"#fcfcfc"},children:[e.jsxs(f,{gutter:16,justify:"space-between",children:[e.jsxs(s,{span:6,children:[" ",e.jsx(X,{poolType:o})]}),e.jsxs(s,{span:6,children:[" ",e.jsx(Z,{poolType:o})]}),e.jsxs(s,{span:12,children:[" ",e.jsx(J,{poolType:o})]})]}),e.jsxs(f,{gutter:16,justify:"space-between",children:[e.jsx(s,{span:6,children:e.jsx(G,{poolType:o})}),e.jsxs(s,{span:6,children:[" ",e.jsx(Y,{poolType:o})]}),e.jsxs(s,{span:12,children:[" ",e.jsx(q,{poolType:o})]})]}),e.jsxs(f,{gutter:16,justify:"space-between",children:[e.jsxs(s,{span:6,children:[" ",e.jsx(K,{poolType:o})]}),e.jsxs(s,{span:6,children:[" ",e.jsx(Q,{poolType:o})]}),e.jsxs(s,{span:12,children:[" ",e.jsx(se,{})]})]})]})}export{ue as default};
