import{j as e}from"./index-DL5OjzhM.js";import{r as i}from"./react-BIszHAjf.js";import"./index-BTyXktSz.js";import{E as g}from"./index-CabELw8-.js";import{R as y}from"./index-CP2cDJI9.js";import{u as b}from"./useAuthRedirect-B0RCc203.js";import{e as h}from"./hook-08x9p9Mw.js";import{N as n,O as v}from"./antd-BlFR_sXc.js";import{L as S}from"./install-C0pYAmbF.js";import"./install-YEQ1JyRA.js";import"./install-BOc5fSoi.js";import"./fetchHelper-CULhQwJj.js";import"./useQuery-tBKGEfQS.js";import"./useMutation-CP91P1uQ.js";function z(){b();const{data:a,error:o,isLoading:s}=h(),[c,m]=i.useState([]),[p,d]=i.useState([]);if(i.useEffect(()=>{if(a&&a.data){const t=a.data.map((r,l)=>({key:l+1,serialNumber:l+1,date:r.date,utc_avg_price:r.utc_avg_price}));d(t)}},[a]),i.useEffect(()=>{m([{title:"序号",dataIndex:"serialNumber",key:"serialNumber",width:50},{title:"日期",dataIndex:"date",key:"date",width:150},{title:"日平均价格",dataIndex:"utc_avg_price",key:"utc_avg_price",render:t=>e.jsxs("span",{children:[t," ",e.jsx("span",{style:{fontSize:"em"},children:" USD"})]})}])},[]),s)return e.jsx(n,{tip:"加载中..."});if(o)return e.jsx(v,{message:"错误",description:o.message,type:"error",showIcon:!0});const{dateArray:x,valueArray:u}=(()=>{const t=[...p].reverse();return{dateArray:t.map(r=>r.date),valueArray:t.map(r=>Number(r.utc_avg_price))}})(),f={xAxis:{type:"category",data:x,grid:{top:"35%",right:"0%",bottom:"0%",left:"15%"},axisLabel:{formatter:function(t){return t.substr(5)},color:"#99a1b7",fontSize:12,rotate:0}},yAxis:{type:"value",name:"日平均价格 (USD)",nameTextStyle:{color:"steelblue",padding:[0,0,0,30]}},series:[{type:"line",smooth:!0,itemStyle:{color:"#4b9bdc"},data:u,areaStyle:{color:new S(0,0,0,1,[{offset:0,color:"rgba(75, 155, 220, 0.4)"},{offset:1,color:"rgba(75, 155, 220,0.03)"}])},lineStyle:{width:3},showSymbol:!1}],title:{text:"比特币价格曲线"},tooltip:{trigger:"axis"}};return e.jsxs("div",{style:{padding:"20px",display:"flex",gap:"100px"},children:[e.jsx("div",{style:{flex:"1 1 50%",minWidth:"400px",marginTop:"20px",backgroundColor:"#fff",borderRadius:"8px",boxShadow:"rgba(0, 0, 0, 0.05) 0px 2px 8px",padding:"0px"},children:e.jsx(y,{option:f,style:{height:600}})}),e.jsx("div",{style:{flex:"1 1 50%",minWidth:"400px",marginTop:"20px",backgroundColor:"#fff",borderRadius:"8px",boxShadow:"rgba(0, 0, 0, 0.05) 0px 2px 8px",padding:"0px"},children:s?e.jsx(n,{style:{marginTop:20}}):e.jsx(g,{tableData:p,setTableData:d,columns:c,width:400,handleDelete:()=>{},handleSave:()=>{}})})]})}export{z as default};
